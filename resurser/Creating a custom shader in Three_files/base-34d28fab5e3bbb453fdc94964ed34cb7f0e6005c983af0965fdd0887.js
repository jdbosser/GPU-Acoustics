function initNotifications(){fetchNotificationsCount(),markNotificationsAsRead(),initReactions(),listenForNotificationsBellClick(),initPagination()}function markNotificationsAsRead(){setTimeout(function(){if(document.getElementById("notifications-container")){var e,t=window.location.pathname.split("/"),n=parseInt(t[t.length-1].replace(/[^0-9]/g,""),10);(e=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP")).onreadystatechange=function(){};var o=document.querySelector("meta[name='csrf-token']").content;Number.isInteger(n)?e.open("Post","/notifications/reads?org_id="+n,!0):e.open("Post","/notifications/reads",!0),e.setRequestHeader("X-CSRF-Token",o),e.send()}},450)}function fetchNotificationsCount(){var e;null==document.getElementById("notifications-container")&&checkUserLoggedIn()&&((e=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP")).onreadystatechange=function(){if(e.readyState==XMLHttpRequest.DONE){var t=e.response;isNaN(t)?document.getElementById("notifications-number").classList.remove("showing"):"0"!=t&&t!=undefined&&""!=t?(document.getElementById("notifications-number").innerHTML=e.response,document.getElementById("notifications-number").classList.add("showing"),instantClick&&(InstantClick.removeExpiredKeys("force"),setTimeout(function(){InstantClick.preload(document.getElementById("notifications-link").href,"force")},30))):document.getElementById("notifications-number").classList.remove("showing")}},e.open("GET","/notifications/counts",!0),e.send())}function initReactions(){setTimeout(function(){if(document.getElementById("notifications-container")){for(var e=document.getElementsByClassName("reaction-button"),t=0;t<e.length;t++){e[t].onclick=function(e){function t(e){"create"===e.result?n.classList.add("reacted"):n.classList.remove("reacted")}e.preventDefault(),sendHapticMessage("medium");var n=this;n.classList.add("reacted");var o=new FormData;o.append("reactable_type",n.dataset.reactableType),o.append("category",n.dataset.category),o.append("reactable_id",n.dataset.reactableId),getCsrfToken().then(sendFetch("reaction-creation",o)).then(function(e){200===e.status&&e.json().then(t)})}}for(e=document.getElementsByClassName("toggle-reply-form"),t=0;t<e.length;t++){e[t].onclick=function(e){e.preventDefault();var t=this;document.getElementById("comment-form-for-"+t.dataset.reactableId).classList.add("showing"),t.innerHTML="",setTimeout(function(){document.getElementById("comment-textarea-for-"+t.dataset.reactableId).focus()},30)}}}},180)}function listenForNotificationsBellClick(){setTimeout(function(){document.getElementById("notifications-link").onclick=function(){document.getElementById("notifications-number").classList.remove("showing")}},180)}function initPagination(){var e=document.getElementById("notifications-pagination");e&&window.fetch(e.dataset.paginationPath,{method:"GET",credentials:"same-origin"}).then(function(t){200===t.status&&t.text().then(function(t){e.innerHTML=t,initReactions()})})}function initScrolling(){checkIfNearBottomOfPage()}function checkIfNearBottomOfPage(){document.getElementById("index-container")&&(client=algoliasearch("YE5Y9R600C","YWVlZGM3YWI4NDg3Mjk1MzJmMjcwNDVjMjIwN2ZmZTQ4YTkxOGE0YTkwMzhiZTQzNmM0ZGFmYTE3ZTI1ZDFhNXJlc3RyaWN0SW5kaWNlcz1zZWFyY2hhYmxlc19wcm9kdWN0aW9uJTJDVGFnX3Byb2R1Y3Rpb24lMkNvcmRlcmVkX2FydGljbGVzX3Byb2R1Y3Rpb24lMkNDbGFzc2lmaWVkTGlzdGluZ19wcm9kdWN0aW9uJTJDb3JkZXJlZF9hcnRpY2xlc19ieV9wdWJsaXNoZWRfYXRfcHJvZHVjdGlvbiUyQ29yZGVyZWRfYXJ0aWNsZXNfYnlfcG9zaXRpdmVfcmVhY3Rpb25zX2NvdW50X3Byb2R1Y3Rpb24lMkNvcmRlcmVkX2NvbW1lbnRzX3Byb2R1Y3Rpb24="),initScrolling.called=!0,document.getElementsByClassName("single-article").length<2||location.search.indexOf("q=")>-1?(document.getElementById("loading-articles").style.display="none",done=!0):document.getElementById("loading-articles").style.display="block",fetchNextPageIfNearBottom(),setInterval(function(){fetchNextPageIfNearBottom()},210))}function fetchNextPageIfNearBottom(){if(document.getElementById("index-container")&&!document.getElementById("query-wrapper")&&!done&&!fetching&&window.scrollY>document.documentElement.scrollHeight-3700){fetching=!0;var e=document.getElementById("index-container"),t=e.dataset.which;"podcast-episodes"==t?fetchNextPodcastPage(e):"videos"==t?fetchNextVideoPage(e):algoliaPaginate(e.dataset.algoliaTag)}}function fetchNextVideoPage(e){var t=JSON.parse(e.dataset.params),n=Object.keys(t).map(function(e){return encodeURIComponent(e)+"="+encodeURIComponent(t[e])}).join("&");if(!(n.indexOf("q=")>-1)){var o=("/api/videos"+"?page="+nextPage+"&"+n+"&signature="+parseInt(Date.now()/4e5)).replace("&&","&");window.fetch(o).then(function(e){e.json().then(function(e){nextPage+=1,insertVideos(e),0==e.length&&(document.getElementById("loading-articles").style.display="none",done=!0)})})["catch"](function(e){console.log(e)})}}function insertVideos(e){document.getElementById("subvideos");var t="";e.forEach(function(e){if(!document.getElementById("video-article-"+e.id)){var n=buildVideoArticleHTML(e);t+=n}});document.documentElement.scrollHeight,document.body.scrollTop;var n=document.createElement("div");n.innerHTML=t,n.className+="video-collection";var o=document.getElementsByClassName("single-article");insertAfter(n,o[o.length-1]),nextPage>0&&(fetching=!1)}function buildVideoArticleHTML(e){return'<a class="single-video-article single-article" href="'+e.path+'" id="video-article-'+e.id+'">            <div class="video-image" style="background-image: url('+e.cloudinary_video_url+')">              <span class="video-timestamp">'+e.video_duration_in_minutes+"</span>            </div>            <p><strong>"+e.title+"</strong></p>           <p>"+e.user.name+"</p>          </a>"}function fetchNextPodcastPage(e){var t=JSON.parse(e.dataset.params),n=Object.keys(t).map(function(e){return encodeURIComponent(e)+"="+encodeURIComponent(t[e])}).join("&");if(!(n.indexOf("q=")>-1)){var o=("/api/podcast_episodes"+"?page="+nextPage+"&"+n+"&signature="+parseInt(Date.now()/4e5)).replace("&&","&");window.fetch(o).then(function(e){e.json().then(function(e){nextPage+=1,insertArticles(e),0==e.length&&(document.getElementById("loading-articles").style.display="none",done=!0)})})["catch"](function(e){console.log(e)})}}function insertArticles(e){document.getElementById("substories");var t="",n=document.getElementById("home-articles-object");n&&(n.outerHTML=""),e.forEach(function(e){var n=document.getElementById("article-link-"+e.id);if(n&&n.parentElement&&n.parentElement.classList.contains("single-article-small-pic")&&!document.getElementById("video-player-"+e.id))n.parentElement.outerHTML=buildArticleHTML(e);else if(!n){var o=buildArticleHTML(e);t+=o,initializeReadingListIcons()}});document.documentElement.scrollHeight,document.body.scrollTop;var o=document.createElement("div");o.innerHTML=t;var r=document.getElementsByClassName("single-article");insertAfter(o,r[r.length-1]),nextPage>0&&(fetching=!1)}function algoliaPaginate(e){var t=[];e&&e.length>0&&t.push(e);var n={hitsPerPage:15,page:nextPage,attributesToHighlight:[],tagFilters:t},o=document.getElementById("index-container");"base-feed"===o.dataset.feed?paginationArticlesIndex=client.initIndex("ordered_articles_production"):"latest"===o.dataset.feed?paginationArticlesIndex=client.initIndex("ordered_articles_by_published_at_production"):(n.filters="published_at_int > "+o.dataset.articlesSince,paginationArticlesIndex=client.initIndex("ordered_articles_by_positive_reactions_count_production")),paginationArticlesIndex.search("*",n).then(function(e){nextPage+=1,insertArticles(e.hits),0==e.hits.length&&(document.getElementById("loading-articles").style.display="none",done=!0)})}function initializeAdditionalContentBoxes(){var e=document.getElementById("additional-content-area");if(e){var t=(new Date).getTime().toString().substring(0,5),n=userData(),o="include_sponsors";n&&!n.display_sponsors&&(o="do_not_include_sponsors"),window.fetch("/additional_content_boxes?article_id="+e.dataset.articleId+"&signature="+t+"&state="+o,{method:"GET",credentials:"same-origin"}).then(function(t){200===t.status&&t.text().then(function(t){e.innerHTML=t,initializeReadingListIcons(),initializeAllFollowButts(),initializeSponsorshipVisibility()})})}}function initModal(){var e=document.querySelector(".modal");e.querySelector(".close-modal").addEventListener("click",toggleModal),e.querySelector(".overlay").addEventListener("click",toggleModal)}function toggleModal(){var e=document.querySelector(".modal");"none"===e.style.display?showChatModal(e):hideChatModal(e)}function showChatModal(e){e.style.display="block",document.getElementById("new-message").focus()}function hideChatModal(e){e.style.display="none"}function handleChatButtonPress(e){var t=document.getElementById("new-message").value,n=JSON.parse(e.dataset.info),o=new FormData;0!==t.replace(/\s/g,"").length&&(o.append("user_id",n.id),o.append("message",t),o.append("controller","chat_channels"),getCsrfToken().then(sendFetch("chat-creation",o)).then(()=>{window.location.href=`/connect/@${n.username}`}))}function addButtonClickHandle(e,t,n){var o=document.getElementById("user-connect-redirect"),r=document.getElementById("new-message-form");t.classList.add("showing"),"open"===n.showChat&&"mutual"!==e?(o.removeAttribute("href"),t.addEventListener("click",toggleModal),t.style.display="initial",o.style.display="initial",r.onsubmit=function(){return handleChatButtonPress(r),!1}):"mutual"===e&&(t.removeEventListener("click",toggleModal),t.style.display="initial",o.style.display="initial")}function fetchButton(e,t){var n;(n=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP")).onreadystatechange=function(){n.readyState===XMLHttpRequest.DONE&&200===n.status&&addButtonClickHandle(n.response,e,t)},n.open("GET","/follows/"+t.id+"?followable_type="+t.className),n.send()}function initializeChatButton(e,t){var n=userData();null!==n&&n.id!==t.id&&fetchButton(e,t)}function initializeAllChatButtons(){var e,t=document.getElementsByClassName("chat-action-button"),n=document.getElementById("new-message-form");if(n){var o=JSON.parse(n.dataset.info);for(initModal(),e=0;e<t.length;e+=1)initializeChatButton(t[e],o)}}function initializeAllFollowButts(){for(var e=document.getElementsByClassName("follow-action-button"),t=0;t<e.length;t++)initializeFollowButt(e[t])}function initializeFollowButt(e){var t=userData(),n=(window.innerWidth>0?window.innerWidth:screen.width,JSON.parse(e.dataset.info));"logged-out"!==document.getElementsByTagName("body")[0].getAttribute("data-user-status")?"Tag"===n.className&&t?handleTagButtAssignment(t,e,n):"fetched"!==e.dataset.fetched&&fetchButt(e,n):addModalEventListener(e)}function addModalEventListener(e){assignState(e,"login"),e.onclick=function(e){e.preventDefault(),showModal("follow-button")}}function fetchButt(e,t){var n;e.dataset.fetched="fetched",(n=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP")).onreadystatechange=function(){n.readyState===XMLHttpRequest.DONE&&200===n.status&&addButtClickHandle(n.response,e)},n.open("GET","/follows/"+t.id+"?followable_type="+t.className,!0),n.send()}function addButtClickHandle(e,t){JSON.parse(t.dataset.info);assignInitialButtResponse(e,t),t.onclick=function(e){e.preventDefault(),handleOptimisticButtRender(t)}}function handleTagButtAssignment(e,t,n){addButtClickHandle(-1!==JSON.parse(e.followed_tags).map(function(e){return e.id}).indexOf(n.id)?"true":"false",t),shouldNotFetch=!0}function assignInitialButtResponse(e,t){t.classList.add("showing"),assignState(t,"true"===e||"mutual"===e?"unfollow":"follow-back"===e?"follow-back":"false"===e?"follow":"self"===e?"self":"login")}function handleOptimisticButtRender(e){if("self"===e.dataset.verb)window.location.href="/settings";else if("login"===e.dataset.verb)showModal("follow-button");else{try{var t=JSON.parse(e.dataset.info).id,n=e.dataset.verb;document.querySelectorAll(".follow-action-button").forEach(function(e){try{if(e.dataset.info){var o=JSON.parse(e.dataset.info).id;o&&o===t&&assignState(e,n)}}catch(r){return}})}catch(o){return}handleFollowButtPress(e)}}function handleFollowButtPress(e){var t=JSON.parse(e.dataset.info),n=new FormData;n.append("followable_type",t.className),n.append("followable_id",t.id),n.append("verb",e.dataset.verb),getCsrfToken().then(sendFetch("follow-creation",n))}function assignState(e,t){var n=JSON.parse(e.dataset.info).style;e.classList.add("showing"),"follow"===t||"follow-back"===t?(e.dataset.verb="unfollow",e.classList.remove("following-butt"),"follow-back"===t?addFollowText(e,t):"follow"===t&&addFollowText(e,n)):"login"===t?addFollowText(e,n):"self"===t?(e.dataset.verb="self",e.textContent="EDIT PROFILE"):(e.dataset.verb="follow",addFollowingText(e,n),e.classList.add("following-butt"))}function addFollowText(e,t){e.textContent="small"===t?"+":"follow-back"===t?"+ FOLLOW BACK":"+ FOLLOW"}function addFollowingText(e,t){e.textContent="small"===t?"\u2713":"\u2713 FOLLOWING"}function archivedPosts(){return document.getElementsByClassName("single-article-archived")}function showArchivedPosts(){for(var e=archivedPosts(),t=0;t<e.length;t+=1)e[t].classList.remove("hidden")}function hideArchivedPosts(){for(var e=archivedPosts(),t=0;t<e.length;t+=1)e[t].classList.add("hidden")}function toggleArchivedPosts(e){var t=e.target;t.innerHTML.match(/Show/)?(t.innerHTML="Hide Archived",showArchivedPosts()):(t.innerHTML="Show Archived",hideArchivedPosts())}function initializeArchivedPostFilter(){var e=document.getElementById("toggleArchivedLink");e&&e.addEventListener("click",toggleArchivedPosts)}function initializeArticleDate(){addLocalizedDateTimeToElementsTitles(document.querySelectorAll(".single-article time, article time, .single-other-article time"),"datetime")}function setReactionCount(e,t){var n=document.getElementById("reaction-butt-"+e).classList,o=document.getElementById("reaction-number-"+e);t>0?(n.add("activated"),o.textContent=t):(n.remove("activated"),o.textContent="0")}function showUserReaction(e,t){document.getElementById("reaction-butt-"+e).classList.add("user-activated",t)}function hideUserReaction(e){document.getElementById("reaction-butt-"+e).classList.remove("user-activated","user-animated")}function hasUserReacted(e){return document.getElementById("reaction-butt-"+e).classList.contains("user-activated")}function getNumReactions(e){var t=document.getElementById("reaction-number-"+e).textContent;return""==t?0:parseInt(t)}function initializeArticleReactions(){setTimeout(function(){if(document.getElementById("article-body")){var e=document.getElementById("article-body").dataset.articleId;if(document.getElementById("article-reaction-actions")){var t;(t=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP")).onreadystatechange=function(){if(t.readyState==XMLHttpRequest.DONE){var e=JSON.parse(t.response);e.article_reaction_counts.forEach(function(e){setReactionCount(e.category,e.count)}),e.reactions.forEach(function(e){document.getElementById("reaction-butt-"+e.category)&&showUserReaction(e.category,"not-user-animated")})}},t.open("GET","/reactions?article_id="+e,!0),t.send()}}for(var n=document.getElementsByClassName("article-reaction-butt"),o=0;o<n.length;o++)n[o].onclick=function(){reactToArticle(e,this.dataset.category)};document.getElementById("jump-to-comments")&&(document.getElementById("jump-to-comments").onclick=function(e){e.preventDefault(),document.getElementById("comments").scrollIntoView({behavior:"instant",block:"start"})})},3)}function reactToArticle(e,t){function n(){var e=getNumReactions(t);hasUserReacted(t)?(hideUserReaction(t),setReactionCount(t,e-1)):(showUserReaction(t,"user-animated"),setReactionCount(t,e+1))}function o(){var n=new FormData;return n.append("reactable_type","Article"),n.append("reactable_id",e),n.append("category",t),n}var r=document.getElementsByTagName("body")[0].getAttribute("data-user-status");sendHapticMessage("medium"),"logged-out"!=r?(n(),document.getElementById("reaction-butt-"+t).disabled=!0,getCsrfToken().then(sendFetch("reaction-creation",o())).then(function(e){if(200===e.status)return e.json().then(()=>{document.getElementById("reaction-butt-"+t).disabled=!1});n(),document.getElementById("reaction-butt-"+t).disabled=!1})["catch"](function(){n(),document.getElementById("reaction-butt-"+t).disabled=!1})):showModal("react-to-article")}function initializeBaseTracking(){var e=0,t=!1,n=setInterval(function(){var o,r,i,a,s,c,l;t||(o=window,r=document,i="script",a="//www.google-analytics.com/analytics.js",s="ga",o.GoogleAnalyticsObject=s,o[s]=o[s]||function(){(o[s].q=o[s].q||[]).push(arguments)},o[s].l=1*new Date,c=r.createElement(i),l=r.getElementsByTagName(i)[0],c.async=1,c.src=a,l.parentNode.insertBefore(c,l)),t=!0,e++,window.ga&&ga.create&&(ga("create","UA-71991109-1","auto"),ga("send","pageview",location.pathname+location.search),clearInterval(n),logImpressions()),e>85&&(clearInterval(n),fallbackActivityRecording())},25);eventListening(),trackCustomImpressions()}function fallbackActivityRecording(){var e=document.querySelector("meta[name='csrf-token']");if(e){var t=e.getAttribute("content"),n=Math.max(document.documentElement.clientWidth,window.innerWidth||0),o=Math.max(document.documentElement.clientHeight,window.innerHeight||0),r=window.screen.availWidth,i=window.screen.availHeight,a={path:location.pathname+location.search,user_language:navigator.language,referrer:document.referrer,user_agent:navigator.userAgent,viewport_size:o+"x"+n,screen_resolution:i+"x"+r,document_title:document.title,document_encoding:document.characterSet,document_path:location.pathname+location.search};window.fetch("/fallback_activity_recorder",{method:"POST",headers:{Accept:"application/json","X-CSRF-Token":t},body:JSON.stringify(a),credentials:"same-origin"})}}function eventListening(){var e=document.getElementById("cta-comment-register-now-link");e&&(e.onclick=function(){ga("send","event","click","register-now-click",null,null)})}function logImpressions(){var e=document.getElementById("featured-story-marker");if(e){var t=e.dataset.featuredArticle;ga("send","event","view","featured-feed-impression",t,null)}}function trackCustomImpressions(){setTimeout(function(){var e=document.getElementById("article-body"),t=document.querySelector("meta[name='csrf-token']"),n=/bot|google|baidu|bing|msn|duckduckbot|teoma|slurp|yandex/i.test(navigator.userAgent),o=window.innerWidth>1250,r=document.getElementById("article-show-primary-sticky-nav"),i=document.getElementById("html-variant-article-show-sidebar");if(i&&e&&t&&!n&&o){var a={html_variant_id:i.dataset.variantId,article_id:e.dataset.articleId},s=t.getAttribute("content");trackHTMLVariantTrial(a,s);for(var c=r.querySelectorAll("a,button"),l=0;l<c.length;l++)c[l].addEventListener("click",function(){trackHtmlVariantSuccess(a,s)})}var u=document.getElementById("html-variant-article-show-below-article");if(u&&e&&t&&!n&&o){a={html_variant_id:u.dataset.variantId,article_id:e.dataset.articleId},s=t.getAttribute("content");trackHTMLVariantTrial(a,s);for(c=u.querySelectorAll("a,button"),l=0;l<c.length;l++)c[l].addEventListener("click",function(){trackHtmlVariantSuccess(a,s)})}if(e&&t&&!n){var d=Math.floor(10*Math.random());if(!checkUserLoggedIn()&&1!=d)return;a={article_id:e.dataset.articleId,referrer:document.referrer,user_agent:navigator.userAgent},s=t.getAttribute("content");trackPageView(a,s);var f=0,m=setInterval(function(){f++;var e=document.getElementById("article-body");e&&checkUserLoggedIn()?trackFifteenSecondsOnPage(e.dataset.articleId,s):clearInterval(m),f>118&&clearInterval(m)},15e3)}},1500)}function trackHTMLVariantTrial(e,t){1===Math.floor(10*Math.random())&&window.fetch("/html_variant_trials",{method:"POST",headers:{"X-CSRF-Token":t,"Content-Type":"application/json"},body:JSON.stringify(e),credentials:"same-origin"})}function trackHtmlVariantSuccess(e,t){window.fetch("/html_variant_successes",{method:"POST",headers:{"X-CSRF-Token":t,"Content-Type":"application/json"},body:JSON.stringify(e),credentials:"same-origin"})}function trackPageView(e,t){window.fetch("/page_views",{method:"POST",headers:{"X-CSRF-Token":t,"Content-Type":"application/json"},body:JSON.stringify(e),credentials:"same-origin"})}function trackFifteenSecondsOnPage(e,t){window.fetch("/page_views/"+e,{method:"PATCH",headers:{"X-CSRF-Token":t,"Content-Type":"application/json"},credentials:"same-origin"})}function initializeUserProfileContent(e){document.getElementById("sidebar-profile-pic").innerHTML='<img alt="'+e.username+'" class="sidebar-profile-pic-img" src="'+e.profile_image_90+'" />',document.getElementById("sidebar-profile-name").innerHTML=filterXSS(e.name),document.getElementById("sidebar-profile-username").innerHTML="@"+e.username,document.getElementById("sidebar-profile-snapshot-inner").href="/"+e.username}function initializeUserSidebar(e){if(!document.getElementById("sidebar-nav"))return;initializeUserProfileContent(e);let t=JSON.parse(e.followed_tags);const n=0===t.length?"Follow tags to improve your feed":"Other Popular Tags";document.getElementById("tag-separator").innerHTML=n,t.sort((e,t)=>t.points-e.points||t.hotness_score-e.hotness_score||e.name.localeCompare(t.name));let o="";t.forEach(e=>{var t=document.getElementById("default-sidebar-element-"+e.name);o+=e.points>0?'<div class="sidebar-nav-element" id="sidebar-element-'+e.name+'"><a class="sidebar-nav-link" href="/t/'+e.name+'"><span class="sidebar-nav-tag-text">#'+e.name+"</span></a></div>":"",t&&t.remove()}),document.getElementById("sidebar-nav-followed-tags").innerHTML=o,document.getElementById("sidebar-nav-default-tags").classList.add("showing")}function addRelevantButtonsToArticle(e){var t=document.getElementById("article-show-container");if(t)if(parseInt(t.dataset.authorId,10)===e.id){let n=[`<a href="${t.dataset.path}/edit" rel="nofollow">EDIT</a>`];!0===JSON.parse(t.dataset.published)&&n.push(`<a href="${t.dataset.path}/manage" rel="nofollow">MANAGE</a>`),e.pro&&n.push(`<a href="${t.dataset.path}/stats" rel="nofollow">STATS</a>`),document.getElementById("action-space").innerHTML=n.join("")}else e.trusted&&(document.getElementById("action-space").innerHTML='<a href="'+t.dataset.path+'/mod" rel="nofollow">MODERATE <span class="post-word">POST</span></a>')}function addRelevantButtonsToComments(e){if(document.getElementById("comments-container")){var t=document.getElementsByClassName("comment-actions");for(let n=0;n<t.length;n+=1){let o=t[n];parseInt(o.dataset.userId,10)===e.id&&(o.className="comment-actions",o.style.display="inline-block")}if(e.trusted){var n=document.getElementsByClassName("mod-actions");for(let e=0;e<n.length;e+=1){let t=n[e];t.className="mod-actions",t.style.display="inline-block"}}}}function initializeBaseUserData(){const e=userData(),t='<a href="/'+e.username+'" id="first-nav-link"><div class="option prime-option">@'+e.username+"</div></a>";document.getElementById("user-profile-link-placeholder").innerHTML=t,document.getElementById("nav-profile-image").src=e.profile_image_90,initializeUserSidebar(e),addRelevantButtonsToArticle(e),addRelevantButtonsToComments(e)}function initializeBodyData(){fetchBaseData()}function fetchBaseData(){var e;(e=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP")).onreadystatechange=function(){if(e.readyState==XMLHttpRequest.DONE){var t=JSON.parse(e.responseText);t.token&&removeExistingCSRF();var n=document.createElement("meta");document.querySelector("meta[name='csrf-token']");n.name="csrf-param",n.content=t.param,document.getElementsByTagName("head")[0].appendChild(n),(n=document.createElement("meta")).name="csrf-token",n.content=t.token,document.getElementsByTagName("head")[0].appendChild(n),document.getElementsByTagName("body")[0].dataset.loaded="true",checkUserLoggedIn()&&(document.getElementsByTagName("body")[0].dataset.user=t.user,browserStoreCache("set",t.user),setTimeout(function(){"function"==typeof ga&&ga("set","userId",JSON.parse(t.user).id)},400))}},e.open("GET","/async_info/base_data",!0),e.send()}function removeExistingCSRF(){var e=document.querySelector("meta[name='csrf-token']"),t=document.querySelector("meta[name='csrf-param']");e&&t&&(e.parentNode.removeChild(e),t.parentNode.removeChild(t))}function initializeCommentDate(){addLocalizedDateTimeToElementsTitles(document.querySelectorAll(".comment-date time"),"datetime")}function initializeCommentDropdown(){function e(){return navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match("CriOS")||navigator.userAgent.match(/iPad/i)||"DEV-Native-ios"===navigator.userAgent}function t(e){return t=>t.classList.remove(e)}function n(e){return Array.from(document.getElementsByClassName(e))}function o(){const{activeElement:e}=document,t="clipboard-copy"===e.localName?e.querySelector("input"):e;t.focus(),t.setSelectionRange(0,t.value.length),m.hidden=!1}function r(){m.hidden=!0}function i(){const e=document.getElementById("article-copy-link-input");e.setSelectionRange(0,e.value.length),document.execCommand("copy"),o()}function a(e){return!(e.target.matches(".dropdown-icon")||e.target.matches(".dropbtn")||e.target.matches("clipboard-copy")||e.target.matches("clipboard-copy input")||e.target.matches("clipboard-copy img")||e.target.parentElement.classList.contains("dropdown-link-row"))}function s(){document.removeEventListener("click",u)}function c(){if(e){document.getElementsByTagName("clipboard-copy")[0].removeEventListener("click",i)}else document.removeEventListener("clipboard-copy",o)}function l(){n("showing").forEach(t("showing"))}function u(e){a(e)&&(l(),r(),s())}function d(t){var n=t.target.parentElement.parentElement.getElementsByClassName("dropdown-content")[0];if(n.classList.contains("showing"))n.classList.remove("showing"),s(),c(),r();else if(l(),n.classList.add("showing"),e){const e=document.getElementsByTagName("clipboard-copy")[0];document.addEventListener("click",u),e.addEventListener("click",i)}else document.addEventListener("click",u),document.addEventListener("clipboard-copy",o)}function f(e){e.addEventListener("click",d)}const m=document.getElementById("article-copy-link-announcer");setTimeout(function(){n("dropbtn").forEach(f)},100)}function initializeCommentPreview(){document.getElementById("preview-button")&&(document.getElementById("preview-button").onclick=handleCommentPreview)}function handleCommentPreview(e){e.preventDefault();var t=e.target.parentElement.parentElement,n=t.querySelector("textarea");if(""!==n.value){var o=t.querySelector(".comment-preview-div"),r=t.querySelector(".comment-action-preview");r.innerHTML.indexOf("PREVIEW")>-1?(n.classList.toggle("preview-loading"),getAndShowPreview(o,n),r.innerHTML="MARKDOWN"):(o.classList.toggle("preview-toggle"),n.classList.toggle("preview-toggle"),r.innerHTML="PREVIEW")}}function getAndShowPreview(e,t){function n(n){e.classList.toggle("preview-toggle"),t.classList.toggle("preview-loading"),t.classList.toggle("preview-toggle"),e.innerHTML=n.processed_html}var o=t.value,r=JSON.stringify({comment:{body_markdown:o}});getCsrfToken().then(sendFetch("comment-preview",r)).then(function(e){return e.json()}).then(n)["catch"](function(e){console.log("error!"),console.log(e)})}function initializeCommentsPage(){if(document.getElementById("comments-container")){toggleCodeOfConduct();var e=document.getElementById("comments-container").dataset.commentableId,t=document.getElementById("comments-container").dataset.commentableType;commentableIdList=e.split(",");(function(){for(var e=0;e<commentableIdList.length;e++)!function(e){var n;(n=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP")).onreadystatechange=function(){if(n.readyState===XMLHttpRequest.DONE){for(var e=JSON.parse(n.response),t=e.reactions,o=document.getElementsByClassName("single-comment-node"),r=e.positive_reaction_counts,i=0;i<t.length;i++){(a=document.getElementById("button-for-comment-"+t[i].reactable_id))&&a.classList.add("reacted")}for(i=0;i<r.length;i++){var a;(a=document.getElementById("button-for-comment-"+r[i].id))&&r[i].count>0&&(document.getElementById("reactions-count-"+r[i].id)?document.getElementById("reactions-count-"+r[i].id).innerHTML=r[i].count:a.innerHTML=a.innerHTML+"<span class='reactions-count' id='reactions-count-"+r[i].id+"'>"+r[i].count+"</span>")}for(i=0;i<o.length;i++)if(o[i].dataset.commentAuthorId==e.current_user.id){o[i].dataset.currentUserComment="true";var s=o[i].children[0].children[2].children[0],c=document.getElementById("button-for-comment-"+o[i].dataset.commentId);s&&c&&(s.className="current-user-actions",s.style.display="inline-block",document.getElementById("button-for-comment-"+o[i].dataset.commentId).classList.add("reacted"))}}},n.open("GET","/reactions?commentable_id="+commentableIdList[e]+"&commentable_type="+t,!0),n.send()}(e)})();for(var n=document.getElementsByClassName("reaction-button"),o=0;o<n.length;o++){n[o].onclick=function(e){function t(e){var t=n.children[2];"create"===e.result?(n.classList.add("reacted"),t&&(t.innerHTML=parseInt(t.innerHTML)+1)):(n.classList.remove("reacted"),t&&(t.innerHTML=parseInt(t.innerHTML)-1))}var n=this;if(e.preventDefault(),sendHapticMessage("medium"),"logged-out"!==document.getElementsByTagName("body")[0].getAttribute("data-user-status")){n.classList.add("reacted");var o=new FormData;o.append("reactable_type","Comment"),o.append("reactable_id",n.dataset.commentId),getCsrfToken().then(sendFetch("reaction-creation",o)).then(function(e){200===e.status&&e.json().then(t)})}else showModal("react-to-comment")}}var r=document.getElementsByClassName("toggle-reply-form");for(o=0;o<r.length;o++){r[o].onclick=function(n){if(n.preventDefault(),n.target.classList.contains("thread-indication"))return!1;if("logged-out"!=document.getElementsByTagName("body")[0].getAttribute("data-user-status")){var o=n.target.parentNode,r=o.dataset.commentId;document.getElementById("button-for-comment-"+o.dataset.commentId).style.zIndex="5";var i=setInterval(function(){document.querySelector("meta[name='csrf-token']")&&(clearInterval(i),o.innerHTML=buildCommentFormHTML(e,t,r),setTimeout(function(){o.getElementsByTagName("textarea")[0].focus()},30))},1);return!1}showModal("reply-to-comment")}}var i=document.getElementsByClassName("edit-butt");for(o=0;o<i.length;o++){i[o].onclick=function(){}}document.getElementById("new_comment")&&(document.getElementById("new_comment").onsubmit=handleCommentSubmit)}listenForDetailsToggle()}function toggleCodeOfConduct(){var e=userData();if(e){var t=e.checked_code_of_conduct,n=e.number_of_comments,o=document.getElementById("toggle-code-of-conduct-checkbox");o&&!t&&n<1&&(o.innerHTML='<input type="checkbox" name="checked_code_of_conduct" class="checkbox" required/>                                  <label for="checked_code_of_conduct"/>I\'ve read the <a href="https://dev.to/code-of-conduct">code of conduct</a></label>')}}function replaceActionButts(e){var t="",n=e.getElementsByClassName("actions")[0];"true"==e.dataset.currentUserComment&&(t='<a data-no-instant href="'+e.parentNode.parentNode.dataset.path+'/delete_confirm" class="edit-butt">DELETE</a>                            <a href="'+e.parentNode.parentNode.dataset.path+'/edit">EDIT</a>'),n.innerHTML='<span class="current-user-actions">'+t+'</span><a href="#" class="toggle-reply-form">REPLY</a>'}function warmNewCommentsArea(){var e="/stories/warm_comments"+window.location.pathname;window.fetch(e)}function handleCommentSubmit(e){e.preventDefault();var t=e.target;t.classList.add("submitting");var n=document.getElementById("comment-node-"+e.target.dataset.commentId),o=JSON.stringify({comment:{body_markdown:t.getElementsByTagName("textarea")[0].value,commentable_id:t.querySelector("#comment_commentable_id").value,commentable_type:t.querySelector("#comment_commentable_type").value,parent_id:t.querySelector("#comment_parent_id")?t.querySelector("#comment_parent_id").value:null}});return getCsrfToken().then(sendFetch("comment-creation",o)).then(function(e){return 200===e.status&&e.json().then(function(e){var o=document.createElement("div");if("comment already exists"==e.status)return!1;if("errors"==e.status)return alert("There was a problem submitting this comment."),!1;o.innerHTML=buildCommentHTML(e);var r=document.getElementsByTagName("body")[0],i=JSON.parse(r.getAttribute("data-user"));i.checked_code_of_conduct=!0,r.dataset.user=JSON.stringify(i);var a=t.getElementsByClassName("code-of-conduct")[0];a&&(a.innerHTML="");var s=document.getElementById("new_comment");if(n){replaceActionButts(n),e.depth>2&&(n.getElementsByClassName("toggle-reply-form")[0].innerHTML="");var c=n.getElementsByClassName("inner-comment")[0];c.parentNode.insertBefore(o,c.nextSibling)}else if(s){
(s=document.getElementById("new_comment")).classList.remove("submitting");const t=document.getElementById("text-area");t.classList="",t.value=e.comment_template||"";var l=document.getElementById("preview-div");l.classList.add("preview-toggle"),l.innerHTML="";var u=document.getElementById("comment-trees-container");u.insertBefore(o,u.firstChild)}else if(document.getElementById("notifications-container")){var d=document.createElement("span");d.innerHTML='<div class="reply-sent-notice">Reply sent \u2014 <a href="'+e.url+'">Check it out</a></div>',t.replaceWith(d)}else window.location.replace(e.url);warmNewCommentsArea(),initializeCommentsPage(),initializeCommentDate(),initializeCommentDropdown()}),!1}),!1}function handleFocus(e){var t=document.getElementsByTagName("body")[0].getAttribute("data-user-status"),n=e.target;"logged-out"==t?(e.preventDefault(),showModal("reply-to-comment"),n.blur(),setTimeout(function(){n.blur(),showModal("reply-to-comment")},100)):handleSizeChange(e)}function handleBlur(){setTimeout(function(){var e=document.getElementById("text-area");0==e.value.length&&(e.className="")},100)}function handleKeyUp(e){handleSizeChange(e)}function handleSubmit(e){var t=userData();if(t&&(t.number_of_comments>=1&&""!==e.target.value.trim())){var n=e.target.parentElement.parentElement.id||e.target.parentElement.id;document.querySelector("#"+n+' input[type="submit"].comment-action-button').click()}}function handleBoldAndItalic(e){var t=e.target,n=t.value.substring(t.selectionStart,t.selectionEnd),o=t.selectionStart,r=e.keyCode===KEY_CODE_B?"**":"_";replaceSelectedText(t,`${r}${n}${r}`);var i=o+r.length;t.setSelectionRange(i,i+n.length)}function handleLink(e){var t=e.target,n=t.value.substring(t.selectionStart,t.selectionEnd),o=t.selectionStart;replaceSelectedText(t,`[${n}](url)`);var r=o+n.length+3,i=r+3;t.setSelectionRange(r,i)}function replaceSelectedText(e,t){document.execCommand("insertText",!1,t)||"function"==typeof e.setRangeText&&e.setRangeText(t)}function handleKeyDown(e){if(e.ctrlKey||e.metaKey)switch(e.keyCode){case KEY_CODE_B:case KEY_CODE_I:e.preventDefault(),handleBoldAndItalic(e);break;case KEY_CODE_K:e.preventDefault(),handleLink(e);break;case ENTER_KEY_CODE:e.preventDefault(),handleSubmit(e)}}function handleSizeChange(e){var t=e.target.value.split(/\r*\n/).length;document.getElementById("text-area").className=t>11?"embiggened-max":t>6?"embiggened-more":"embiggened"}function validateField(e){document.getElementById("text-area")&&(""==document.getElementById("text-area").value&&e.preventDefault())}function generateUploadFormdata(e){var t=document.querySelector("meta[name='csrf-token']").content,n=new FormData;return n.append("authenticity_token",t),n.append("image",e[0]),n}function handleImageUpload(e,t){document.getElementById("comments-container").dataset.commentableId;e.preventDefault(),document.getElementById("image-upload-"+t).click(),document.getElementById("image-upload-"+t).onchange=function(){document.getElementById("image-upload-"+t).files.length>0&&(document.getElementById("image-upload-file-label-"+t).style.color="#888888",document.getElementById("image-upload-file-label-"+t).innerHTML="Uploading...",document.getElementById("image-upload-submit-"+t).value="uploading",setTimeout(function(){document.getElementById("image-upload-submit-"+t).click(function(){})},50))},document.getElementById("image-upload-submit-"+t).onclick=function(e){e.preventDefault();var n=document.getElementById("image-upload-"+t).files;n.length>0&&getCsrfToken().then(sendFetch("image-upload",generateUploadFormdata(n))).then(function(e){200===e.status?e.json().then(function(e){var n=document.getElementById("uploaded-image-"+t),o=(document.getElementById("image-upload-button-"+t),document.getElementById("image-upload-file-label-"+t));o.style.display="none",n.value=e.link,n.classList.add("showing"),n.select();var r="Uploaded! Paste into editor";o.innerHTML=r,o.style.color="#00c673",o.style.position="relative",o.style.top="5px"}):e.json().then(function(e){var n=e.error||"Invalid file!";document.getElementById("image-upload-file-label-"+t).innerHTML=n,document.getElementById("image-upload-file-label-"+t).style.color="#e05252",document.getElementById("image-upload-submit-"+t).style.display="none"})})["catch"](function(){})}}function listenForDetailsToggle(){for(var e=document.getElementsByTagName("DETAILS"),t=0;t<e.length;t++)e[t].addEventListener("toggle",e=>{var t=e.target,n=t.getElementsByTagName("SPAN")[0],o=t.getElementsByClassName("comment-username"),r="";o.length>1&&(r=" + "+(o.length-1)+" replies");var i=o[0].textContent+r;t.open?n.innerHTML="&nbsp;":n.innerHTML=i,t.getElementsByTagName("SUMMARY")[0].blur()})}function initializeDashboardSort(){document.getElementById("dashhboard_sort")&&(document.getElementById("dashhboard_sort").onchange=function(){window.location="/dashboard?sort="+this.value})}function initializeDrawerSliders(){initializeSwipeGestures.called||(swipeState="middle",initializeSwipeGestures()),document.getElementById("on-page-nav-controls")&&(document.getElementById("sidebar-bg-left")&&(document.getElementById("sidebar-bg-left").onclick=function(){swipeState="middle",slideSidebar("left","outOfView")}),document.getElementById("sidebar-bg-right")&&(document.getElementById("sidebar-bg-right").onclick=function(){swipeState="middle",slideSidebar("right","outOfView")}),document.getElementById("on-page-nav-butt-left")&&(document.getElementById("on-page-nav-butt-left").onclick=function(){swipeState="left",slideSidebar("left","intoView")}),document.getElementById("on-page-nav-butt-right")&&(document.getElementById("on-page-nav-butt-right").onclick=function(){swipeState="right",slideSidebar("right","intoView")}),InstantClick.on("change",function(){document.getElementsByTagName("body")[0].classList.remove("modal-open"),slideSidebar("right","outOfView"),slideSidebar("left","outOfView")}),listenForNarrowMenuClick())}function listenForNarrowMenuClick(){for(var e=document.getElementsByClassName("narrow-nav-menu"),t=document.getElementById("narrow-feed-butt"),n=0;n<e.length;n++)document.getElementById("narrow-nav-menu").classList.remove("showing");t&&(t.onclick=function(){document.getElementById("narrow-nav-menu").classList.add("showing")});for(n=0;n<e.length;n++)e[n].onclick=function(){document.getElementById("narrow-nav-menu").classList.remove("showing")}}function getFormValues(e){for(var t=e.action.match(/\/(\d+)$/)[1],n=e.querySelectorAll("input"),o={id:t,article:{}},r=0;r<n.length;r+=1){var i=n[r],a=i.getAttribute("name"),s=i.getAttribute("value");if(a.match(/\[(.*)\]/)){var c=a.match(/\[(.*)\]$/)[1];o.article[c]=s}else o[a]=s}return o}function toggleArchived(e,t){"true"===t?e.classList.add("single-article-archived","hidden"):e.classList.remove("single-article-archived")}function toggleNotifications(e,t){"Mute Notifications"===t?e.setAttribute("value","Receive Notifications"):e.setAttribute("value","Mute Notifications")}function onXhrSuccess(e,t,n){if(n.article.archived)toggleArchived(t,n.article.archived);else{var o=e.querySelector('input[type="submit"]');toggleNotifications(o,o.getAttribute("value"))}t.querySelector("ul.ellipsis-menu").classList.add("hidden")}function handleFormSubmit(e){e.preventDefault(),e.stopPropagation();var t=e.target,n=getFormValues(t),o=JSON.stringify(n),r=new XMLHttpRequest;r.open("POST",t.action),r.setRequestHeader("Content-Type","application/json"),r.send(o),r.onload=function(){var e=t.closest("div.single-article");if(200===r.status){onXhrSuccess(t,e,n);var o="Mute Notifications"===n.commit?"Notifications Muted":"Notifications Restored";e.querySelector(".dashboard-meta-details").innerHTML=o}else e.querySelector(".dashboard-meta-details").innerHTML="Failed to update article."}}function initializeFormSubmit(){for(var e=document.querySelectorAll("ul.ellipsis-menu > li > form"),t=0;t<e.length;t+=1)e[t].addEventListener("submit",handleFormSubmit)}function getMenu(e){return e.closest("div.ellipsis-menu").querySelector("ul.ellipsis-menu")}function hideIfNotAlreadyHidden(e){e.classList.contains("hidden")||e.classList.add("hidden")}function hideAllEllipsisMenusExcept(e){for(var t=document.querySelectorAll("ul.ellipsis-menu"),n=0;n<t.length;n+=1)t[n]!==e&&hideIfNotAlreadyHidden(t[n])}function hideEllipsisMenus(e){if(!e.target.closest("div.ellipsis-menu"))for(var t=document.querySelectorAll("ul.ellipsis-menu"),n=0;n<t.length;n+=1)hideIfNotAlreadyHidden(t[n])}function toggleEllipsisMenu(e){var t=getMenu(e.target);hideAllEllipsisMenusExcept(t),t.classList.contains("hidden")?t.classList.remove("hidden"):t.classList.add("hidden")}function initializeEllipsisMenuToggle(){for(var e=document.getElementsByClassName("ellipsis-menu-btn"),t=0;t<e.length;t+=1)e[t].addEventListener("click",toggleEllipsisMenu);const n=document.getElementsByTagName("body")[0];n&&n.addEventListener("click",hideEllipsisMenus)}function initializeEllipsisMenu(){initializeEllipsisMenuToggle(),initializeFormSubmit()}function initializeFetchFollowedArticles(){insertPodcasts(),document.getElementById("featured-story-marker")&&checkUserLoggedIn()&&algoliaFollowedArticles(),insertTimes()}function insertArticle(e,t,n){if(e){var o=document.createElement("DIV");e.cached_user&&(e.user=e.cached_user.table),e.cached_organization&&(e.organization=e.cached_organization.table),o.innerHTML=buildArticleHTML(e),t.insertBefore(o,n),initializeReadingListIcons()}}function insertInitialArticles(e){var t=document.getElementById("home-articles-object");t&&(t.innerHTML="",insertNewArticles(e),insertTopArticles(e),t.outerHTML="")}function insertNewArticles(e){var t=document.getElementById("new-articles-object"),n=JSON.parse(t.dataset.articles),o=document.getElementById("article-index-hidden-div");o&&(n.forEach(function(t){var n=0,o=findOne([t.user_id],e.followed_user_ids||[]),r=findOne([t.organization_id],e.followed_organization_ids||[]),i=intersect_arrays(e.followed_tag_names,t.cached_tag_list_array),a=1,s=Math.abs(t.experience_level_rating-e.experience_level||5),c=findOne([t.language||"en"],e.preferred_languages_array||["en"]);JSON.parse(e.followed_tags).map(function(e){i.includes(e.name)&&(a+=e.points)}),n=n+2*a+t.positive_reactions_count,(o||t.user_id===e.id)&&(n+=16),r&&(n+=16),c?n+=1:n-=10;var l=Math.random();l<.3?n+=1:l<.6&&(n+=3),n-=s/2,t.points=n}),n.sort(function(e,t){return t.points-e.points}).forEach(function(e){var t=o.parentNode;e.points>12&&!document.getElementById("article-link-"+e.id)&&insertArticle(e,t,o)}))}function insertTopArticles(e){var t=document.getElementById("home-articles-object"),n=JSON.parse(t.dataset.articles),o=document.getElementById("article-index-hidden-div");o&&(n.forEach(function(t){var n=0,o=findOne([t.user_id],e.followed_user_ids||[]),r=findOne([t.organization_id],e.followed_organization_ids||[]),i=intersect_arrays(e.followed_tag_names,t.cached_tag_list_array),a=1,s=Math.abs(t.experience_level_rating-e.experience_level||5),c=findOne([t.language||"en"],e.preferred_languages_array||["en"]);JSON.parse(e.followed_tags).map(function(e){i.includes(e.name)&&(a+=e.points)}),n+=a,o&&(n+=1),r&&(n+=1);var l=Math.random();l<.3?n+=1:l<.6&&(n+=3),c?n+=1:n-=10,n-=s/2,t.points=n}),n.sort(function(e,t){return t.points-e.points}).forEach(function(e){var t=o.parentNode;e.points>0&&!document.getElementById("article-link-"+e.id)&&insertArticle(e,t,o)}))}function algoliaFollowedArticles(){var e=userData();if(e&&e.followed_tag_names&&e.followed_tag_names.length>0){insertInitialArticles(e);var t=[];e.followed_user_ids&&(t=e.followed_user_ids.map(function(e){return"user_"+e}));var n=algoliasearch("YE5Y9R600C","YWVlZGM3YWI4NDg3Mjk1MzJmMjcwNDVjMjIwN2ZmZTQ4YTkxOGE0YTkwMzhiZTQzNmM0ZGFmYTE3ZTI1ZDFhNXJlc3RyaWN0SW5kaWNlcz1zZWFyY2hhYmxlc19wcm9kdWN0aW9uJTJDVGFnX3Byb2R1Y3Rpb24lMkNvcmRlcmVkX2FydGljbGVzX3Byb2R1Y3Rpb24lMkNDbGFzc2lmaWVkTGlzdGluZ19wcm9kdWN0aW9uJTJDb3JkZXJlZF9hcnRpY2xlc19ieV9wdWJsaXNoZWRfYXRfcHJvZHVjdGlvbiUyQ29yZGVyZWRfYXJ0aWNsZXNfYnlfcG9zaXRpdmVfcmVhY3Rpb25zX2NvdW50X3Byb2R1Y3Rpb24lMkNvcmRlcmVkX2NvbW1lbnRzX3Byb2R1Y3Rpb24="),o=(n.initIndex("ordered_articles_production"),{hitsPerPage:20,page:"0",attributesToHighlight:[],tagFilters:[e.followed_tag_names.concat(t)]}),r=document.getElementById("index-container");"base-feed"===r.dataset.feed?articlesIndex=n.initIndex("ordered_articles_production"):"latest"===r.dataset.feed?articlesIndex=n.initIndex("ordered_articles_by_published_at_production"):(o.filters="published_at_int > "+r.dataset.articlesSince,articlesIndex=n.initIndex("ordered_articles_by_positive_reactions_count_production")),articlesIndex.search("*",o).then(function(e){var t=document.getElementById("article-index-hidden-div");if(t){var n=t.parentNode;e.hits.forEach(function(e){document.getElementById("article-link-"+e.id)||insertArticle(e,n,t)})}var o=document.getElementById("home-articles-object");o&&(o.outerHTML="")})}}function insertPodcasts(){var e=document.getElementById("followed-podcasts"),t=document.getElementById("article-index-podcast-div");if(e&&t){var n=userData();if(n&&n.followed_podcast_ids&&n.followed_podcast_ids.length>0){var o=JSON.parse(e.dataset.episodes),r="",i=0;o.forEach(function(e){n.followed_podcast_ids.indexOf(e.podcast.id)>-1&&(i+=1,r=r+'<a class="individual-podcast-link" href="/'+e.podcast.slug+"/"+e.slug+'"><strong>'+e.podcast.title+"</strong> "+e.title+"</a>")}),i>0&&(t.innerHTML='<div class="single-article single-article-podcast-div"><h3><a href="/pod">Today\'s Podcasts</a></h3>'+r+"</div>")}}}function findOne(e,t){return t.some(function(t){return e.indexOf(t)>=0})}function intersect_arrays(e,t){for(var n=e.concat().sort(),o=t.concat().sort(),r=[],i=0,a=0;i<e.length&&a<t.length;)n[i]===o[a]?(r.push(n[i]),i++,a++):n[i]<o[a]?i++:a++;return r}function insertTimes(){for(var e=document.getElementsByClassName("time-ago-indicator-initial-placeholder"),t=0;t<e.length;t++){var n=e[0];n.outerHTML=timeAgo(n.dataset.seconds)}}function initializeFooterMod(){var e=document.getElementById("footer-container");e&&document.getElementById("page-content").className.indexOf("stories-show")>-1&&!document.getElementById("IS_CENTERED_PAGE")?document.getElementById("footer-container").classList.remove("centered-footer"):e&&document.getElementById("footer-container").classList.add("centered-footer")}function initializeLocalStorageRender(){try{var e=browserStoreCache("get");e&&(document.getElementsByTagName("body")[0].dataset.user=e,initializeBaseUserData(),initializeReadingListIcons(),initializeAllFollowButts(),initializeSponsorshipVisibility())}catch(t){browserStoreCache("remove")}}function initializePWAFunctionality(){if(window.matchMedia("(display-mode: standalone)").matches&&(document.getElementById("pwa-nav-buttons").classList.add("pwa-nav-buttons--showing"),document.getElementById("app-back-button").onclick=function(e){e.preventDefault(),window.history.back()},document.getElementById("app-forward-button").onclick=function(e){e.preventDefault(),window.history.forward()},document.getElementById("app-refresh-button").onclick=function(e){e.preventDefault(),window.location.reload()},!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini|DEV-Native-ios/i.test(navigator.userAgent)))for(var e=window.location.protocol+"//"+window.location.host,t=document.getElementsByTagName("a"),n=0,o=t.length;n<o;n++){var r=t[n];0===r.href.indexOf(e+"/")||0===r.href.indexOf("/")||(r.setAttribute("target","_blank"),r.setAttribute("rel","noopener noreferrer"))}}function initializePodcastPlayback(){function e(e){return document.getElementById(e)}function t(e){return document.getElementsByClassName(e)}function n(){return e("audio")&&!e("audio").paused}function o(){return e(`record-${window.activeEpisode}`)}function r(t){n()&&o()&&(e(`record-${window.activeEpisode}`).classList.add("playing"),m(t||"playing"))}function i(){window.activeEpisode&&e(`record-${window.activeEpisode}`)&&(e(`record-${window.activeEpisode}`).classList.remove("playing"),window.activeEpisode=undefined)}function a(){var e=t("record-wrapper"),n=t("podcastliquidtag__record");return e.length>0?e:n}function s(t){e("barPlayPause").onclick=function(){w(t)},e("mutebutt").onclick=function(){_(t)},e("volbutt").onclick=function(){_(t)},e("bufferwrapper").onclick=function(e){T(e,t)},e("volumeslider").value=100*t.volume,e("volumeslider").onchange=function(e){t.volume=e.target.value/100},e("speed").onclick=function(){f(t)},e("closebutt").onclick=function(){x(t)}}function c(t){return-1!==e("audiocontent").innerHTML.indexOf(`${t}`)}function l(e){return function(t){E(t,e)}}function u(t){e("audiocontent").innerHTML=e(`hidden-audio-${t}`).innerHTML;var n=e("audio");n.addEventListener("timeupdate",l(n),!1),n.load(),w(n),s(n)}function d(){var t=a();Array.prototype.forEach.call(t,function(t){var n=t.getAttribute("data-episode");t.getAttribute("data-podcast");t.onclick=function(){if(c(n)){var t=e("audio");t&&w(t)}else i(),u(n)}})}function f(t){var n=e("speed"),o=parseFloat(n.getAttribute("data-speed"));2==o?(n.setAttribute("data-speed",.5),n.innerHTML="0.5x",t.playbackRate=.5):(n.setAttribute("data-speed",o+.5),n.innerHTML=o+.5+"x",t.playbackRate=o+.5)}function m(t){e(`status-message-${window.activeEpisode}`)?e(`status-message-${window.activeEpisode}`).innerHTML=t:"loading"===t&&document.querySelector(".status-message")&&(document.querySelector(".status-message").innerHTML=t)}function p(){var e="You are currently playing a podcast. Are you sure you want to leave?";window.onclick=function(t){"A"!==t.target.tagName||t.target.href.includes("https://dev.to")||(t.preventDefault(),window.confirm(e)&&(window.location=t.target.href))},window.onbeforeunload=function(){return e}}function h(){e("barPlayPause").classList.add("playing"),e("progressBar").classList.add("playing"),e("animated-bars").classList.add("playing")}function g(e){e.play().then(function(){r(),h(),p()},function(){})["catch"](function(){e.play(),setTimeout(function(){r("loading"),h(),p()},300)})}function y(){window.onbeforeunload=function(){return null}}function v(){e("barPlayPause").classList.remove("playing"),e("animated-bars").classList.remove("playing")}function b(e){e.pause(),i(),v(),y()}function w(e){m("loading"),window.activeEpisode=e.getAttribute("data-episode"),window.activePodcast=e.getAttribute("data-podcast"),e.paused?(ga("send","event","click","play podcast",`${window.activePodcast} ${window.activeEpisode}`,null),g(e)):(ga("send","event","click","pause podcast",`${window.activePodcast} ${window.activeEpisode}`,null),b(e))}function _(t){t.muted?(t.muted=!1,e("mutebutt").classList.add("hidden"),e("volumeindicator").classList.add("showing"),e("mutebutt").classList.remove("showing"),e("volumeindicator").classList.remove("hidden")):(t.muted=!0,e("mutebutt").classList.add("showing"),e("volumeindicator").classList.add("hidden"),e("mutebutt").classList.remove("hidden"),e("volumeindicator").classList.remove("showing"))}function E(t,n){var o=e("progress"),r=e("buffer"),i=e("time"),a=0,s=0;n.currentTime>0&&(a=Math.floor(100/n.duration*n.currentTime),s=n.buffered.end(n.buffered.length-1)/n.duration*100),o.style.width=a+"%",r.style.width=s+"%",i.innerHTML=k(n.currentTime)+" / "+k(n.duration)}function T(t,n){var o=e("progress");if(t.clientX>128){var r=(t.clientX-128)/(window.innerWidth-133),i=n.duration;n.currentTime=i*r,time.innerHTML=k(n.currentTime)+" / "+k(n.duration),o.style.width=100*r+"%"}}function k(e){var t=Math.floor(e),n=Math.floor(t/60);return(n=n>=10?n:"0"+n)+":"+(t=(t=Math.floor(t%60))>=10?t:"0"+t)}function x(t){event.stopPropagation(),t.removeEventListener("timeupdate",l,!1),e("audiocontent").innerHTML="",i(),y()}r(),d()}function initializeReadingListIcons(){setReadingListButtonsState(),addReadingListCountToHomePage(),addHoverEffectToReadingListButtons()}function setReadingListButtonsState(){var e=document.getElementsByClassName("bookmark-engage");Array.from(e).forEach(highlightButton)}function highlightButton(e){var t=userData(),n=parseInt(e.dataset.reactableId,10);t&&t.reading_list_ids.indexOf(n)>-1?e.classList.add("selected"):e.classList.remove("selected"),e.addEventListener("click",reactToReadingListButtonClick)}function addReadingListCountToHomePage(){var e,t=userData();t&&document.getElementById("reading-list-count")&&(e=t.reading_list_ids.length>0?t.reading_list_ids.length:"empty",document.getElementById("reading-list-count").innerHTML="("+e+")",document.getElementById("reading-list-count").dataset.count=t.reading_list_ids.length)}function reactToReadingListButtonClick(e){var t;e.preventDefault(),sendHapticMessage("medium"),"logged-out"!==document.getElementsByTagName("body")[0].getAttribute("data-user-status")?(renderOptimisticResult(t=properButtonFromEvent(e)),getCsrfToken().then(sendFetch("reaction-creation",buttonFormData(t))).then(function(e){if(200===e.status)return e.json().then(function(e){renderButtonState(t,e),renderNewSidebarCount(t,e)})})["catch"](function(){})):showModal("add-to-readinglist-from-index")}function renderButtonState(e,t){"create"===t.result?(e.classList.add("selected"),addHoverEffectToReadingListButtons(e)):e.classList.remove("selected")}function renderNewSidebarCount(e,t){var n,o=document.getElementById("reading-list-count").dataset.count;o=parseInt(o,10),"create"===t.result?n=o+1:0!==o&&(n=o-1),document.getElementById("reading-list-count").dataset.count=n,document.getElementById("reading-list-count").innerHTML="("+n+")"}function buttonFormData(e){var t=new FormData;return t.append("reactable_type","Article"),t.append("reactable_id",e.dataset.reactableId),t.append("category","readinglist"),t}function renderOptimisticResult(e){renderButtonState(e,{result:"create"})}function properButtonFromEvent(e){return"BUTTON"===e.target.tagName?e.target:e.target.parentElement}function addHoverEffectToReadingListButtons(){var e=document.getElementsByClassName("articles-list");Array.from(e).forEach(function(e){e.addEventListener("mouseover",readingListButtonMouseHandler.bind("UNSAVE")),e.addEventListener("mouseout",readingListButtonMouseHandler.bind("SAVED"))})}function isReadingListButtonHoverTarget(e){var t=e.classList;return"BUTTON"===e.tagName&&t.contains("bookmark-engage")&&t.contains("selected")||"SPAN"===e.tagName&&t.contains("bm-success")}function readingListButtonMouseHandler(e){var t=e.target;if(isReadingListButtonHoverTarget(t)){e.preventDefault();var n=this;("BUTTON"===t.tagName?t.getElementsByClassName("bm-success")[0]:t).innerHTML=n}}function initializeSettings(){if(document.getElementById("settings-org-secret")&&(document.getElementById("settings-org-secret").onclick=function(e){e.target.select()}),document.getElementById("rss-fetch-time")){var e=document.getElementById("rss-fetch-time"),t=e.getAttribute("datetime"),n={month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"};e.textContent=timestampToLocalDateTime(t,navigator.language,n)}}function initializeSponsorshipVisibility(){var e=document.getElementById("sponsorship-widget")||document.getElementById("partner-content-display"),t=userData();e&&setTimeout(function(){window.ga&&0===document.querySelectorAll("[data-partner-seen]").length&&(ga("send","event","view","sponsor displayed on page",e.dataset.details,null),e.dataset.partnerSeen="true")},400),e&&t&&t.display_sponsors?(e.classList.add("showing"),listenForSponsorClick()):e&&t?e.classList.remove("showing"):e&&(e.classList.add("showing"),listenForSponsorClick())}function listenForSponsorClick(){setTimeout(function(){if(window.ga)for(var e=document.getElementsByClassName("partner-link"),t=0;t<e.length;t++)e[t].onclick=function(e){e.target.classList.contains("follow-action-button")&&(handleOptimisticButtRender(e.target),handleFollowButtPress(e.target)),ga("send","event","click","click sponsor link",e.target.dataset.details,null)}},400)}function initializeStylesheetAppend(){if(!document.getElementById("main-head-stylesheet")){var e=document.createElement("link");e.type="text/css",e.id="main-head-stylesheet",e.rel="stylesheet",e.href="https://practicaldev-herokuapp-com.freetls.fastly.net/assets/minimal-c1fb82f26e9e3f802be468ecac61ccac03e97c07a6784b0d77afd7a374b8017f.css",document.getElementsByTagName("head")[0].appendChild(e)}}function initializeSwipeGestures(){initializeSwipeGestures.called=!0,swipeState="middle",setTimeout(function(){!function(e){var t=function(e,t){var n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!0,!0,e.target),e.target.dispatchEvent(n),n=null,!1},n=!0,o={x:0,y:0},r={x:0,y:0},i={touchstart:function(e){o={x:e.touches[0].pageX,y:e.touches[0].pageY,scrollY:window.scrollY}},touchmove:function(e){n=!1,r={x:e.touches[0].pageX,y:e.touches[0].pageY,scrollY:window.scrollY}},touchend:function(e){if(n)t(e,"fc");else{var i=r.x-o.x,a=Math.abs(i),s=r.y-o.y,c=Math.abs(s),l=Math.abs(o.scrollY-r.scrollY);if(Math.max(a,c)>15)t(e,a/2>c&&l<5?i<0?"swl":"swr":s<0?"swu":"swd")}n=!0},touchcancel:function(){n=!1}};for(var a in i)e.addEventListener(a,i[a],!1)}(document);document.body.addEventListener("swl",handleSwipeLeft,!1),document.body.addEventListener("swr",handleSwipeRight,!1)},50)}function handleSwipeLeft(){document.getElementById("on-page-nav-controls")&&("middle"==swipeState?(swipeState="right",slideSidebar("right","intoView")):(swipeState="middle",slideSidebar("left","outOfView")))}function handleSwipeRight(){document.getElementById("on-page-nav-controls")&&("middle"==swipeState?(swipeState="left",slideSidebar("left","intoView")):(swipeState="middle",slideSidebar("right","outOfView")))}function initializeTimeFixer(){function e(e){var t=new Date(e),n={hour:"numeric",minute:"numeric",timeZoneName:"short"};return t=new Intl.DateTimeFormat("en-US",n).format(t)}function t(t){for(var n,o=0;o<t.length;o++)n=e(t[o].dataset.datetime),t[o].innerHTML=n}function n(e){var t=new Date(e),n={month:"short",day:"numeric"};return t=new Intl.DateTimeFormat("en-US",n).format(t)}function o(e){for(var t,o=0;o<e.length;o++)t=n(e[o].dataset.datetime),e[o].innerHTML=t}function r(e){var t=new Date(e),n={weekday:"long",month:"long",day:"numeric",hour:"numeric",minute:"numeric"};return t=new Intl.DateTimeFormat("en-US",n).format(t)}function i(e){for(var t,n=0;n<e.length;n++)t=r(e[n].innerHTML),e[n].innerHTML=t}var a=document.getElementsByClassName("utc-time"),s=document.getElementsByClassName("utc-date"),c=document.getElementsByClassName("utc");c&&(t(a),o(s),i(c))}function initializeTouchDevice(){var e=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini|DEV-Native-ios/i.test(navigator.userAgent);"DEV-Native-ios"===navigator.userAgent&&document.getElementsByTagName("body")[0].classList.add("dev-ios-native-body"),setTimeout(function(){removeShowingMenu(),e?document.getElementById("navigation-butt").onclick=function(){document.getElementById("navbar-menu-wrapper").classList.toggle("showing")}:(document.getElementById("navbar-menu-wrapper").classList.add("desktop"),document.getElementById("navigation-butt").onfocus=function(){document.getElementById("navbar-menu-wrapper").classList.add("showing")},document.getElementById("last-nav-link").onblur=function(){setTimeout(function(){console.log(document.activeElement),document.activeElement!=document.getElementById("second-last-nav-link")&&document.getElementById("navbar-menu-wrapper").classList.remove("showing")},10)},document.getElementById("navigation-butt").onblur=function(){setTimeout(function(){console.log(document.activeElement),document.activeElement!=document.getElementById("first-nav-link")&&document.getElementById("navbar-menu-wrapper").classList.remove("showing")},10)}),document.getElementById("menubg").onclick=function(){document.getElementById("navbar-menu-wrapper").classList.remove("showing")}},10)}function removeShowingMenu(){document.getElementById("navbar-menu-wrapper").classList.remove("showing"),setTimeout(function(){document.getElementById("navbar-menu-wrapper").classList.remove("showing")},5),setTimeout(function(){document.getElementById("navbar-menu-wrapper").classList.remove("showing")},150)}function browserStoreCache(e,t){try{switch(e){case"set":localStorage.setItem("current_user",t),localStorage.setItem("config_body_class",JSON.parse(t).config_body_class);break;case"remove":localStorage.removeItem("current_user");break;default:return localStorage.getItem("current_user")}}catch(n){navigator.cookieEnabled&&browserStoreCache("remove")}}function buildArticleHTML(e){if(e&&"podcast_episodes"==e.type_of)return'<div class="single-article single-article-small-pic single-article-single-podcast">      <div class="small-pic">       <a href="/'+e.podcast.slug+'" class="small-pic-link-wrapper">         <img src="'+e.podcast.image_url+'" alt="'+e.podcast.title+' image">       </a>       </div>       <a href="'+e.path+'" class="small-pic-link-wrapper index-article-link" id="article-link-'+e.id+'">        <div class="content">         <h3><span class="tag-identifier">podcast</span>'+e.title+'</h3>        </div>       </a>       <h4><a href="/'+e.podcast.slug+'">'+e.podcast.title+"</a></h4>       </div>";if(e){var t=document.getElementById("index-container"),n="",o=e.tag_list||e.cached_tag_list_array;o&&o.forEach(function(e){n=n+'<a href="/t/'+e+'"><span class="tag">#'+e+"</span></a>\n"});var r="";(e.comments_count||"0")>0&&"User"!=e.class_name&&(r='<div class="article-engagement-count comments-count"><a href="'+e.path+'#comments"><img src="https://practicaldev-herokuapp-com.freetls.fastly.net/assets/comments-bubble-9958d41b969a1620c614347d5ad3f270ab49582c1d9f82b617a6b4156d05dda0.png" alt="chat" /><span class="engagement-count-number">'+(e.comments_count||"0")+"</span></a></div>");var i="";if(t)var a=JSON.parse(t.dataset.params).tag;e.flare_tag&&a!=e.flare_tag.name&&(i="<span class='tag-identifier' style='background:"+e.flare_tag.bg_color_hex+";color:"+e.flare_tag.text_color_hex+"'>#"+e.flare_tag.name+"</span>"),"PodcastEpisode"==e.class_name&&(i="<span class='tag-identifier'>podcast</span>"),"User"==e.class_name&&(i="<span class='tag-identifier' style='background:#5874d9;color:white;'>person</span>");var s=e.positive_reactions_count||e.reactions_count,c="";if((s||"0")>0&&"User"!=e.class_name)c='<div class="article-engagement-count reactions-count"><a href="'+e.path+'"><img src="https://practicaldev-herokuapp-com.freetls.fastly.net/assets/reactions-stack-ee166e138ca182a567f74c986b6f810f670f4d199aca9c550cc7e6f49f34bd33.png" alt="heart" /><span id="engagement-count-number-'+e.id+'" class="engagement-count-number">'+(s||"0")+"</span></a></div>";var l=e.user.profile_image_90,u=e.user.username,d="";e.organization&&!document.getElementById("organization-article-index")&&(d='<div class="article-organization-headline"><a class="org-headline-filler" href="/'+e.organization.slug+'"><span class="article-organization-headline-inner"><img alt="'+e.organization.name+' logo" src="'+e.organization.profile_image_90+'" loading="lazy">'+e.organization.name+"</span></a></div>");var f="",m="",p="";if(e._snippetResult&&e._snippetResult.body_text){if("none"!=e._snippetResult.body_text.matchLevel){var h="";(g=e._snippetResult.body_text.value[0]).toLowerCase()!=g.toUpperCase()&&(h="\u2026"),f=h+e._snippetResult.body_text.value+"\u2026"}if("none"!=e._snippetResult.comments_blob.matchLevel&&""===f){var g;h="";(g=e._snippetResult.comments_blob.value[0]).toLowerCase()!=g.toUpperCase()&&(h="\u2026"),m=h+e._snippetResult.comments_blob.value+"\u2026 <i>(comments)</i>"}(f.length>0||m.length>0)&&"Article"==e.class_name&&(p='<div class="search-snippet"><span>'+f+m+"</span></div>")}var y="";"Article"===e.class_name?y='<button class="article-engagement-count bookmark-engage" data-reactable-id="'+e.id+'">                      <span class="bm-initial">SAVE</span>                      <span class="bm-success">SAVED</span>                    </button>':"User"===e.class_name&&(y='<button style="width: 122px" class="article-engagement-count bookmark-engage follow-action-button"                       data-info=\'{"id":'+e.id+',"className":"User"}\' data-follow-action-button>                       &nbsp;                    </button>');var v="";e.readable_publish_date&&(v=e.published_timestamp?'\u30fb<time datetime="'+e.published_timestamp+'">'+e.readable_publish_date+"</time>":"\u30fb<time>"+e.readable_publish_date+"</time>");var b="";e.reading_time&&"Article"===e.class_name?b='<a href="'+e.path+'" class="article-reading-time">'+(e.reading_time<2?"1 min":e.reading_time+" min")+" read</a>":"Article"===e.class_name&&(b='<a href="'+e.path+'" class="article-reading-time">3 min read</a>');var w=""
;e.cloudinary_video_url&&(w='<a href="'+e.path+'" class="single-article-video-preview" style="background-image:url('+e.cloudinary_video_url+')"><div class="single-article-video-duration"><img src="https://practicaldev-herokuapp-com.freetls.fastly.net/assets/video-camera-0c3050f8341db4d91f7d90272b61c637d9a2c7d42fdd00fc6ac9be048a935f71.svg" alt="video camera">'+e.video_duration_in_minutes+"</div></a>");var _="";return e.published_at_int&&(_=timeAgo(e.published_at_int)),'<div class="single-article single-article-small-pic">      '+w+"      "+d+'      <div class="small-pic">       <a href="/'+u+'" class="small-pic-link-wrapper">         <img src="'+l+'" alt="'+u+' profile" loading="lazy">       </a>       </div>       <a href="'+e.path+'" class="small-pic-link-wrapper index-article-link" id="article-link-'+e.id+'">        <div class="content">         <h3>'+i+filterXSS(e.title)+"</h3>         "+p+'        </div>       </a>       <h4><a href="/'+e.user.username+'">'+filterXSS(e.user.name)+v+_+'</a></h4>       <div class="tags">'+n+"</div>       "+r+c+b+"       "+y+"</div>"}}function buildCommentFormHTML(e,t,n){var o=document.querySelector("meta[name='csrf-token']").getAttribute("content"),r=userData(),i="";r&&!r.codeOfConduct&&r.commentCount<1&&(i='<div class="code-of-conduct sub-comment-code-of-conduct" style="display:block" id="toggle-code-of-conduct-checkbox">                            <input class="checkbox" type="checkbox" name="checked_code_of_conduct" required />                            <label for="checked_code_of_conduct">I\'ve read the <a href="https://dev.to/code-of-conduct">code of conduct</a></label>                          </div>');var a=Math.floor(1991*Math.random());return'<form class="new_comment" onsubmit="handleCommentSubmit.bind(this)(event)" id="new-comment-'+n+'" action="/comments" accept-charset="UTF-8" method="post" data-comment-id="'+n+'">            <input name="utf8" type="hidden" value="&#x2713;" />            <input type="hidden" name="authenticity_token" value="'+o+'">            <input value="'+e+'" type="hidden" name="comment[commentable_id]" id="comment_commentable_id" />            <input value="'+t+'" type="hidden" name="comment[commentable_type]" id="comment_commentable_type" />            <input value="'+n+'" type="hidden" name="comment[parent_id]" id="comment_parent_id" />            <textarea id="textarea-for-'+n+'" class="embiggened" name="comment[body_markdown]" id="comment_body_markdown" required onkeydown="handleKeyDown.bind(this)(event)"></textarea>            '+'<div class="preview-toggle comment-preview-div body"></div>'+"                "+i+'            <a href="/p/editor_guide" class="markdown-guide" target="_blank" title="Markdown Guide">              <img alt="markdown guide" class="icon-image" src="https://practicaldev-herokuapp-com.freetls.fastly.net/assets/info-77808966a58690cfaad3e8c7923a4d78d8fab5d87e1c3f73aef7670f290eb00c.svg" />            </a>            <div class="editor-image-upload">              <input type="file" id="image-upload-'+a+'"  name="file" accept="image/*" style="display:none">              <button title="Upload Image" class="image-upload-button" id="image-upload-button-'+a+'" onclick="handleImageUpload(event,'+a+')">                <img alt="upload image" class="icon-image" src="https://practicaldev-herokuapp-com.freetls.fastly.net/assets/image-upload-82e70cf7bf38042009c533de1ad5806ab1c33a116c24bb1518886250e076c006.svg" />              </button>              <label  class="image-upload-file-label" id="image-upload-file-label-'+a+'"></label>              <input type="submit" id="image-upload-submit-'+a+'" value="Upload" style="display:none">              <input class="uploaded-image" id="uploaded-image-'+a+'" />            </div>            <div class="actions reply-actions">              <a href="#" class="cancel" onclick="cancel(event,this)">CANCEL</a>              '+'<button id="preview-button" class="comment-action-button comment-action-preview" onclick="handleCommentPreview(event)">PREVIEW</button>'+'              <input type="submit" class="comment-action-button" name="commit" value="SUBMIT" />            </div>          </form>'}function cancel(e,t){e.preventDefault(),replaceActionButts(t.parentNode.parentNode.parentNode.parentNode),initializeCommentsPage()}function buildCommentHTML(e){var t="",n="",o="",r="",i="",a="";return t=e.newly_created?0==e.depth?"root":e.depth<3?"child":"child flat-node":"child flat-node",e.user.twitter_username&&e.user.twitter_username.length>0&&(o='<a href="http://twitter.com/'+e.user.twitter_username+'" rel="noopener noreferrer" target="_blank"><img class="icon-img" alt="twitter logo" src="https://practicaldev-herokuapp-com.freetls.fastly.net/assets/twitter-logo-42be7109de07f8c991a9832d432c9d12ec1a965b5c0004bca9f6aa829ae43209.svg" /></a>'),e.user.github_username&&e.user.github_username.length>0&&(n='<a href="http://github.com/'+e.user.github_username+'" rel="noopener noreferrer" target="_blank"><img class="icon-img" alt="github logo" src="https://practicaldev-herokuapp-com.freetls.fastly.net/assets/github-logo-6a5bca60a4ebf959a6df7f08217acd07ac2bc285164fae041eacb8a148b1bab9.svg" /></a>'),e.newly_created&&(r="comment-created-via-fetch"),e.depth<3&&(i="<details open><summary><span>&nbsp;</span></summary>",a="</details>"),"<style>"+e.css+"</style>          "+i+'          <div class="comment-hash-marker" id="'+e.id_code+'"></div>          <div id="comment-node-'+e.id+'" class="single-comment-node '+t+" comment-deep-"+e.depth+'" "          data-comment-id="'+e.id+'" data-comment-author-id="'+e.user.id+'" data-current-user-comment="'+e.newly_created+'">          <div class="inner-comment '+r+'">            <div class="details">              <a href="/'+e.user.username+'">                <img class="profile-pic" src="'+e.user.profile_pic+'" alt="'+e.user.username+'">                <span class="comment-username"><span class="comment-username-inner">'+e.user.name+"</span></span>              </a>                "+o+"                "+n+'              <div class="comment-date">                <a href="'+e.url+'">                  <time datetime="'+e.published_timestamp+'">                    '+e.readable_publish_date+'                  </time>                </a>              </div>              <button class="dropbtn">                <img class="dropdown-icon" alt="Toggle dropdown menu" src="https://practicaldev-herokuapp-com.freetls.fastly.net/assets/three-dots-943ace87a6e3393984e260d09db4d12e3793f6658c33197e93c01ba552c165ba.svg" />              </button>              <div class="dropdown">                  <div class="dropdown-content">                    <a href="'+e.url+'">                      Permalink                    </a>                    <a href="'+e.url+'/settings">                      Settings                    </a>                    <a href="/report-abuse?url=https://dev.to'+e.url+'">Report Abuse</a>                  </div>              </div>            </div>            <div class="body">              '+e.body_html+"              "+reactions(e)+"            </div>            "+actions(e)+"          </div>      </div>      "+a}function actions(e){return e.newly_created?'<div class="actions" data-comment-id="'+e.id+'" data-path="'+e.url+'">              <span class="current-user-actions" style="display: '+(e.newly_created?"inline-block":"none")+';">                <a data-no-instant="" href="'+e.url+'/delete_confirm" class="edit-butt" rel="nofollow">DELETE</a>                <a href="'+e.url+'/edit" class="edit-butt" rel="nofollow">EDIT</a>              </span>                <a href="#" class="toggle-reply-form" rel="nofollow">REPLY</a>            </div>':'<div class="actions" data-comment-id="'+e.id+'" data-path="'+e.url+'" data-commentable-id="'+e.commentable.id+'">                <a href="'+e.url+'" rel="nofollow">VIEW/REPLY</a>            </div>'}function reactions(e){if(e.newly_created)return'<button class="reaction-button reacted" id="button-for-comment-'+e.id+'" data-comment-id="'+e.id+'">              <img src="https://practicaldev-herokuapp-com.freetls.fastly.net/assets/favorite-heart-outline-button-eafc0d6b1b73d9d1e00410de01d79a2bc9cbfba43e1c2a674fad9d740abfa37d.svg" alt="Favorite heart outline button">              <img class="voted-heart" src="https://practicaldev-herokuapp-com.freetls.fastly.net/assets/emoji/emoji-one-heart-855b5a6263042e4c9448cf2cb0dd2e201598b77b1e3f1dc041492bc0128d9fb8.png" alt="Favorite heart button">              <span class="reactions-count" id="reactions-count-'+e.id+'">1</span></button>';if(e.heart_ids.indexOf(userData().id)>-1)var t="reacted";else t="";return'<button style="background:white" class="reaction-button '+t+'" id="button-for-comment-'+e.id+'" data-comment-id="'+e.id+'">              <img src="https://practicaldev-herokuapp-com.freetls.fastly.net/assets/favorite-heart-outline-button-eafc0d6b1b73d9d1e00410de01d79a2bc9cbfba43e1c2a674fad9d740abfa37d.svg" alt="Favorite heart outline button">              <img class="voted-heart" src="https://practicaldev-herokuapp-com.freetls.fastly.net/assets/emoji/emoji-one-heart-855b5a6263042e4c9448cf2cb0dd2e201598b77b1e3f1dc041492bc0128d9fb8.png" alt="Favorite heart button">              <span class="reactions-count" id="reactions-count-'+e.id+'">'+e.positive_reactions_count+"</span></button>"}function checkUserLoggedIn(){const e=document.getElementsByTagName("body")[0];return!!e&&"logged-in"===e.getAttribute("data-user-status")}function createAjaxReq(){return window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP")}function getCsrfToken(){return new Promise(function(e,t){var n=0,o=setInterval(function(){var r=document.querySelector("meta[name='csrf-token']");if(n++,r){clearInterval(o);var i=r.getAttribute("content");return e(i)}if(1e3===n){clearInterval(o);var a=new airbrakeJs.Client({projectId:1,projectKey:"4520505f5806ca4578979a09f4fcfe9a"});return a.addFilter(function(e){return e.context.environment="production",e}),a.notify("Could no locate CSRF metatag"+JSON.stringify(localStorage.current_user)),t("Could not locate CSRF meta tag on the page.")}},5)})}function getCurrentPage(e){return document.querySelectorAll("[data-current-page='"+e+"']").length>0}function getImageForLink(e){var t=e.getAttribute("data-preload-image");t&&-1==$fetchedImageUrls.indexOf(t)&&((new Image).src=t,$fetchedImageUrls.push(t))}function insertAfter(e,t){t&&t.parentNode&&t.parentNode.insertBefore(e,t.nextSibling)}function timestampToLocalDateTime(e,t,n){if(""===e)return"";try{var o=new Date(e);return new Intl.DateTimeFormat(t||"default",n).format(o)}catch(r){return""}}function addLocalizedDateTimeToElementsTitles(e,t){for(var n={weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"},o=0;o<e.length;o+=1){var r=e[o],i=r.getAttribute(t||"datetime");if(i){var a=timestampToLocalDateTime(i,navigator.language,n);r.setAttribute("title",a)}}}function localStorageTest(){var e="devtolocalstoragetestforavaialbility";try{return localStorage.setItem(e,e),localStorage.removeItem(e),!0}catch(t){return!1}}function preventDefaultAction(e){e.preventDefault()}function sendFetch(e,t){switch(e){case"article-preview":return function(e){return window.fetch("/articles/preview",{method:"POST",headers:{"X-CSRF-Token":e,Accept:"application/json","Content-Type":"application/json"},body:t,credentials:"same-origin"})};case"reaction-creation":return function(e){return t.append("authenticity_token",e),window.fetch("/reactions",{method:"POST",headers:{"X-CSRF-Token":e},body:t,credentials:"same-origin"})};case"image-upload":return function(e){return t.append("authenticity_token",e),window.fetch("/image_uploads",{method:"POST",headers:{"X-CSRF-Token":e},body:t,credentials:"same-origin"})};case"follow-creation":return function(e){return t.append("authenticity_token",e),window.fetch("/follows",{method:"POST",headers:{"X-CSRF-Token":e},body:t,credentials:"same-origin"})};case"chat-creation":return function(e){return t.append("authenticity_token",e),window.fetch("/chat_channels/create_chat",{method:"POST",headers:{"X-CSRF-Token":e},body:t,credentials:"same-origin"})};case"block-chat":return function(e){return t.append("authenticity_token",e),window.fetch("/chat_channels/block_chat",{method:"POST",headers:{"X-CSRF-Token":e},body:t,credentials:"same-origin"})};case"comment-creation":return function(e){return window.fetch("/comments",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-Token":e},body:t,credentials:"same-origin"})};case"comment-preview":return function(e){return window.fetch("/comments/preview",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-Token":e},body:t,credentials:"same-origin"})};default:console.log("A wrong switchStatement was used.")}return!0}function sendHapticMessage(e){try{window&&window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.haptic&&window.webkit.messageHandlers.haptic.postMessage(e)}catch(t){console.log(t.message)}}function showModal(){document.getElementById("global-signup-modal").style.display="block",document.getElementById("global-signup-modal").classList.add("showing"),document.getElementsByTagName("body")[0].classList.add("modal-open"),initSignupModal()}function initSignupModal(){document.getElementById("global-signup-modal")&&(document.getElementById("global-signup-modal-bg").onclick=function(){document.getElementById("global-signup-modal").style.display="none",document.getElementById("global-signup-modal").classList.remove("showing"),document.getElementsByTagName("body")[0].classList.remove("modal-open")})}function slideSidebar(e,t){document.getElementById("sidebar-wrapper-"+e)&&("intoView"===t?(document.getElementById("articles-list").classList.add("modal-open"),document.getElementsByTagName("body")[0].classList.add("modal-open"),document.getElementById("sidebar-wrapper-"+e).classList.add("swiped-in"),document.getElementById("articles-list").addEventListener("touchmove",preventDefaultAction,!1)):(document.getElementById("articles-list").classList.remove("modal-open"),document.getElementsByTagName("body")[0].classList.remove("modal-open"),document.getElementById("sidebar-wrapper-"+e).querySelector(".side-bar").scrollTop=0,document.getElementById("sidebar-wrapper-"+e).classList.remove("swiped-in"),document.getElementById("articles-list").removeEventListener("touchmove",preventDefaultAction,!1)))}function secondsToHumanUnitAgo(e){const t=[["second",1],["min",60],["hour",3600],["day",86400],["week",604800],["month",2592e3],["year",31536e3]];if(e<t[0][1])return"just now";let n=0;for(;n+1<t.length&&e>=t[n+1][1];)n+=1;const o=Math.floor(e/t[n][1]);return o+" "+(t[n][0]+(1===o?"":"s"))+" ago"}function timeAgo(e,t=86399){const n=new Date/1e3,o=Math.round(n-e);return o>t?"":"<span class='time-ago-indicator'>("+secondsToHumanUnitAgo(o)+")</span>"}function userData(){const e=document.getElementsByTagName("body")[0].getAttribute("data-user");return null===e?null:JSON.parse(e)}function initializePage(){initializeLocalStorageRender(),initializeStylesheetAppend(),initializeFetchFollowedArticles(),callInitalizers()}function callInitalizers(){initializeLocalStorageRender(),initializeBodyData();var e=setInterval(function(){"true"==document.getElementsByTagName("body")[0].getAttribute("data-loaded")&&(clearInterval(e),"logged-in"==document.getElementsByTagName("body")[0].getAttribute("data-user-status")&&(initializeAllChatButtons(),initializeBaseUserData()),initializeAllFollowButts(),initializeReadingListIcons(),initializeSponsorshipVisibility(),document.getElementById("sidebar-additional")&&document.getElementById("sidebar-additional").classList.add("showing"))},1);initializeBaseTracking(),initializeTouchDevice(),initializeCommentsPage(),initializeArticleDate(),initializeArticleReactions(),initNotifications(),initializeStylesheetAppend(),initializeCommentDate(),initializeCommentDropdown(),initializeSettings(),initializeFooterMod(),initializeCommentPreview(),initializeAdditionalContentBoxes(),initializeTimeFixer(),initializeDashboardSort(),initializePWAFunctionality(),initializeEllipsisMenu(),initializeArchivedPostFilter(),initializeDrawerSliders(),nextPage=0,fetching=!1,done=!1,setTimeout(function(){done=!1},300),initScrolling.called||initScrolling()}function initializeBaseApp(){InstantClick.on("change",function(){initializePage()}),InstantClick.init()}function initializeAirbrake(){var e=new airbrakeJs.Client({projectId:1,projectKey:"4520505f5806ca4578979a09f4fcfe9a"});e.addFilter(function(e){e.context.environment="production";var t=e.errors[0].backtrace[0].file,n=Math.floor(10*Math.random());return(t||"").startsWith("https://stats.pusher.com")?null:n>4?null:e});try{initializeBaseApp()}catch(t){e.notify(t)}}var KEY_CODE_B=66,KEY_CODE_I=73,KEY_CODE_K=75,ENTER_KEY_CODE=13,$fetchedImageUrls=[];!function e(t,n,o){function r(a,s){if(!n[a]){if(!t[a]){var c="function"==typeof require&&require;if(!s&&c)return c(a,!0);if(i)return i(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var u=n[a]={exports:{}};t[a][0].call(u.exports,function(e){var n=t[a][1][e];return r(n||e)},u,u.exports,e,t,n,o)}return n[a].exports}for(var i="function"==typeof require&&require,a=0;a<o.length;a++)r(o[a]);return r}({1:[function(e,t,n){function o(){return{}}function r(){}function i(){}function a(){}function s(){}function c(e){return e.replace(x,"&lt;").replace(I,"&gt;")}function l(e,t,n,o){if(n=h(n),"href"===t||"src"===t){if("#"===(n=T.trim(n)))return"#";if("http://"!==n.substr(0,7)&&"https://"!==n.substr(0,8)&&"mailto:"!==n.substr(0,7)&&"#"!==n[0]&&"/"!==n[0])return""}else if("background"===t){if(N.lastIndex=0,N.test(n))return""}else if("style"===t){if(j.lastIndex=0,j.test(n))return"";if(C.lastIndex=0,C.test(n)&&(N.lastIndex=0,N.test(n)))return"";!1!==o&&(n=(o=o||k).process(n))}return n=g(n)}function u(e){return e.replace(S,"&quot;")}function d(e){return e.replace(L,'"')}function f(e){return e.replace(B,function(e,t){return"x"===t[0]||"X"===t[0]?String.fromCharCode(parseInt(t.substr(1),16)):String.fromCharCode(parseInt(t,10))})}function m(e){return e.replace(A,":").replace(O," ")}function p(e){for(var t="",n=0,o=e.length;n<o;n++)t+=e.charCodeAt(n)<32?" ":e.charAt(n);return T.trim(t)}function h(e){return e=p(e=m(e=f(e=d(e))))}function g(e){return e=c(e=u(e))}function y(){return""}function v(e,t){function n(t){return!!o||-1!==T.indexOf(e,t)}"function"!=typeof t&&(t=function(){});var o=!Array.isArray(e),r=[],i=!1;return{onIgnoreTag:function(e,o,a){if(n(e)){if(a.isClosing){var s="[/removed]",c=a.position+s.length;return r.push([!1!==i?i:a.position,c]),i=!1,s}return i||(i=a.position),"[removed]"}return t(e,o,a)},remove:function(e){var t="",n=0;return T.forEach(r,function(o){t+=e.slice(n,o[0]),n=o[1]}),t+=e.slice(n)}}}function b(e){return e.replace(R,"")}function w(e){var t=e.split("");return(t=t.filter(function(e){var t=e.charCodeAt(0);return 127!==t&&(!(t<=31)||(10===t||13===t))})).join("")}var _=e("cssfilter").FilterCSS,E=e("cssfilter").getDefaultWhiteList,T=e("./util"),k=new _,x=/</g,I=/>/g,S=/"/g,L=/&quot;/g,B=/&#([a-zA-Z0-9]*);?/gim,A=/&colon;?/gim,O=/&newline;?/gim,N=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a)\:/gi,j=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,C=/u\s*r\s*l\s*\(.*/gi,R=/<!--[\s\S]*?-->/g;n.whiteList=o(),n.getDefaultWhiteList=o,n.onTag=r,n.onIgnoreTag=i,n.onTagAttr=a,n.onIgnoreTagAttr=s,n.safeAttrValue=l,n.escapeHtml=c,n.escapeQuote=u,n.unescapeQuote=d,n.escapeHtmlEntities=f,n.escapeDangerHtml5Entities=m,n.clearNonPrintableCharacter=p,n.friendlyAttrValue=h,n.escapeAttrValue=g,n.onIgnoreTagStripAll=y,n.StripTagBody=v,n.stripCommentTag=b,n.stripBlankChar=w,n.cssFilter=k,n.getDefaultCSSWhiteList=E},{"./util":4,cssfilter:8}],2:[function(e,t,n){function o(e,t){return new a(t).process(e)}var r=e("./default"),i=e("./parser"),a=e("./xss");for(var s in(n=t.exports=o).FilterXSS=a,r)n[s]=r[s];for(var s in i)n[s]=i[s];"undefined"!=typeof window&&(window.filterXSS=t.exports)},{"./default":1,"./parser":3,"./xss":5}],3:[function(e,t,n){function o(e){var t=e.indexOf(" ");if(-1===t)var n=e.slice(1,-1);else n=e.slice(1,t+1);return"/"===(n=d.trim(n).toLowerCase()).slice(0,1)&&(n=n.slice(1)),"/"===n.slice(-1)&&(n=n.slice(0,-1)),n}function r(e){return"</"===e.slice(0,2)}function i(e,t,n){"user strict";var i="",a=0,s=!1,c=!1,l=0,u=e.length,d="",f="";for(l=0;l<u;l++){var m=e.charAt(l);if(!1===s){if("<"===m){s=l;continue}}else if(!1===c){if("<"===m){i+=n(e.slice(a,l)),s=l,a=l;continue}if(">"===m){i+=n(e.slice(a,s)),f=o(d=e.slice(s,l+1)),i+=t(s,i.length,f,d,r(d)),a=l+1,s=!1;continue}if(('"'===m||"'"===m)&&"="===e.charAt(l-1)){c=m;continue}}else if(m===c){c=!1;continue}}return a<e.length&&(i+=n(e.substr(a))),i}function a(e,t){"user strict";function n(e,n){if(!((e=(e=d.trim(e)).replace(f,"").toLowerCase()).length<1)){var o=t(e,n||"");o&&r.push(o)}}for(var o=0,r=[],i=!1,a=e.length,l=0;l<a;l++){var m,p=e.charAt(l);if(!1!==i||"="!==p)if(!1===i||l!==o||'"'!==p&&"'"!==p||"="!==e.charAt(l-1))if(" "!==p);else{if(!1===i){if(-1===(m=s(e,l))){n(d.trim(e.slice(o,l))),i=!1,o=l+1;continue}l=m-1;continue}if(-1===(m=c(e,l-1))){n(i,u(d.trim(e.slice(o,l)))),i=!1,o=l+1;continue}}else{if(-1===(m=e.indexOf(p,l+1)))break;n(i,d.trim(e.slice(o+1,m))),i=!1,o=(l=m)+1}else i=e.slice(o,l),o=l+1}return o<e.length&&(!1===i?n(e.slice(o)):n(i,u(d.trim(e.slice(o))))),d.trim(r.join(" "))}function s(e,t){for(;t<e.length;t++){var n=e[t];if(" "!==n)return"="===n?t:-1}}function c(e,t){for(;t>0;t--){var n=e[t];if(" "!==n)return"="===n?t:-1}}function l(e){return'"'===e[0]&&'"'===e[e.length-1]||"'"===e[0]&&"'"===e[e.length-1]}function u(e){return l(e)?e.substr(1,e.length-2):e}var d=e("./util"),f=/[^a-zA-Z0-9_:\.\-]/gim;n.parseTag=i,n.parseAttr=a},{"./util":4}],4:[function(e,t){t.exports={indexOf:function(e,t){var n,o;if(Array.prototype.indexOf)return e.indexOf(t);for(n=0,o=e.length;n<o;n++)if(e[n]===t)return n;return-1},forEach:function(e,t,n){var o,r;if(Array.prototype.forEach)return e.forEach(t,n);for(o=0,r=e.length;o<r;o++)t.call(n,e[o],o,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")}}},{}],5:[function(e,t){function n(e){return e===undefined||null===e}function o(e){var t=e.indexOf(" ");if(-1===t)return{html:"",closing:"/"===e[e.length-2]};var n="/"===(e=d.trim(e.slice(t+1,-1)))[e.length-1];return n&&(e=d.trim(e.slice(0,-1))),{html:e,closing:n}}function r(e){var t={};for(var n in e)t[n]=e[n];return t}function i(e){(e=r(e||{})).stripIgnoreTag&&(e.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),e.onIgnoreTag=s.onIgnoreTagStripAll),e.whiteList=e.whiteList||s.whiteList,e.onTag=e.onTag||s.onTag,e.onTagAttr=e.onTagAttr||s.onTagAttr,e.onIgnoreTag=e.onIgnoreTag||s.onIgnoreTag,e.onIgnoreTagAttr=e.onIgnoreTagAttr||s.onIgnoreTagAttr,e.safeAttrValue=e.safeAttrValue||s.safeAttrValue,e.escapeHtml=e.escapeHtml||s.escapeHtml,this.options=e,!1===e.css?this.cssFilter=!1:(e.css=e.css||{},this.cssFilter=new a(e.css))}var a=e("cssfilter").FilterCSS,s=e("./default"),c=e("./parser"),l=c.parseTag,u=c.parseAttr,d=e("./util");i.prototype.process=function(e){if(!(e=(e=e||"").toString()))return"";var t=this,r=t.options,i=r.whiteList,a=r.onTag,c=r.onIgnoreTag,f=r.onTagAttr,m=r.onIgnoreTagAttr,p=r.safeAttrValue,h=r.escapeHtml,g=t.cssFilter;r.stripBlankChar&&(e=s.stripBlankChar(e)),r.allowCommentTag||(e=s.stripCommentTag(e));var y=!1;if(r.stripIgnoreTagBody){y=s.StripTagBody(r.stripIgnoreTagBody,c);c=y.onIgnoreTag}var v=l(e,function(e,t,r,s,l){var y,v={sourcePosition:e,position:t,isClosing:l,isWhite:r in i};if(!n(y=a(r,s,v)))return y;if(v.isWhite){if(v.isClosing)return"</"+r+">";var b=o(s),w=i[r],_=u(b.html,function(e,t){var o,i=-1!==d.indexOf(w,e);return n(o=f(r,e,t,i))?i?(t=p(r,e,t,g))?e+'="'+t+'"':e:n(o=m(r,e,t,i))?void 0:o:o});s="<"+r;return _&&(s+=" "+_),b.closing&&(s+=" /"),s+=">"}return n(y=c(r,s,v))?h(s):y},h);return y&&(v=y.remove(v)),v},t.exports=i},{"./default":1,"./parser":3,"./util":4,cssfilter:8}],6:[function(e,t){function n(e){return e===undefined||null===e}function o(e){var t={};for(var n in e)t[n]=e[n];return t}function r(e){(e=o(e||{})).whiteList=e.whiteList||i.whiteList,e.onAttr=e.onAttr||i.onAttr,e.onIgnoreAttr=e.onIgnoreAttr||i.onIgnoreAttr,this.options=e}var i=e("./default"),a=e("./parser");e("./util");r.prototype.process=function(e){if(!(e=(e=e||"").toString()))return"";var t=this.options,o=t.whiteList,r=t.onAttr,i=t.onIgnoreAttr;return a(e,function(e,t,a,s,c){var l=o[a],u=!1;!0===l?u=l:"function"==typeof l?u=l(s):l instanceof RegExp&&(u=l.test(s)),!0!==u&&(u=!1);var d,f={position:t,sourcePosition:e,source:c,isWhite:u};return u?n(d=r(a,s,f))?a+":"+s:d:n(d=i(a,s,f))?void 0:d})},t.exports=r},{"./default":7,"./parser":9,"./util":10}],7:[function(e,t,n){function o(){var e={"align-content":!1,"align-items":!1,"align-self":!1,"alignment-adjust":!1,"alignment-baseline":!1,all:!1,"anchor-point":!1,animation:!1,"animation-delay":!1,"animation-direction":!1,"animation-duration":!1,"animation-fill-mode":!1,"animation-iteration-count":!1,"animation-name":!1,"animation-play-state":!1,"animation-timing-function":!1,azimuth:!1,"backface-visibility":!1,background:!0,"background-attachment":!0,"background-clip":!0,"background-color":!0,"background-image":!0,"background-origin":!0,"background-position":!0,"background-repeat":!0,"background-size":!0,"baseline-shift":!1,binding:!1,bleed:!1,"bookmark-label":!1,"bookmark-level":!1,"bookmark-state":!1,border:!0,"border-bottom":!0,"border-bottom-color":!0,"border-bottom-left-radius":!0,"border-bottom-right-radius":!0,"border-bottom-style":!0,"border-bottom-width":!0,"border-collapse":!0,"border-color":!0,"border-image":!0,"border-image-outset":!0,"border-image-repeat":!0,"border-image-slice":!0,"border-image-source":!0,"border-image-width":!0,"border-left":!0,"border-left-color":!0,"border-left-style":!0,"border-left-width":!0,"border-radius":!0,"border-right":!0,"border-right-color":!0,"border-right-style":!0,"border-right-width":!0,"border-spacing":!0,"border-style":!0,"border-top":!0,"border-top-color":!0,"border-top-left-radius":!0,"border-top-right-radius":!0,"border-top-style":!0,"border-top-width":!0,"border-width":!0,bottom:!1,"box-decoration-break":!0,"box-shadow":!0,"box-sizing":!0,"box-snap":!0,"box-suppress":!0,"break-after":!0,"break-before":!0,"break-inside":!0,"caption-side":!1,chains:!1,clear:!0,clip:!1,"clip-path":!1,"clip-rule":!1,color:!0,"color-interpolation-filters":!0,"column-count":!1,"column-fill":!1,"column-gap":!1,"column-rule":!1,"column-rule-color":!1,"column-rule-style":!1,"column-rule-width":!1,"column-span":!1,"column-width":!1,columns:!1,contain:!1,content:!1,"counter-increment":!1,"counter-reset":!1,"counter-set":!1,crop:!1,cue:!1,"cue-after":!1,"cue-before":!1,cursor:!1,direction:!1,display:!0,"display-inside":!0,"display-list":!0,"display-outside":!0,"dominant-baseline":!1,elevation:!1,"empty-cells":!1,filter:!1,flex:!1,"flex-basis":!1,"flex-direction":!1,"flex-flow":!1,"flex-grow":!1,"flex-shrink":!1,"flex-wrap":!1,float:!1,"float-offset":!1,"flood-color":!1,"flood-opacity":!1,"flow-from":!1,"flow-into":!1,font:!0,"font-family":!0,"font-feature-settings":!0,"font-kerning":!0,"font-language-override":!0,"font-size":!0,"font-size-adjust":!0,"font-stretch":!0,"font-style":!0,"font-synthesis":!0,"font-variant":!0,"font-variant-alternates":!0,"font-variant-caps":!0,"font-variant-east-asian":!0,"font-variant-ligatures":!0,"font-variant-numeric":!0,"font-variant-position":!0,"font-weight":!0,grid:!1,"grid-area":!1,"grid-auto-columns":!1,"grid-auto-flow":!1,"grid-auto-rows":!1,"grid-column":!1,"grid-column-end":!1,"grid-column-start":!1,"grid-row":!1,"grid-row-end":!1,"grid-row-start":!1,"grid-template":!1,"grid-template-areas":!1,"grid-template-columns":!1,"grid-template-rows":!1,"hanging-punctuation":!1,height:!0,hyphens:!1,icon:!1,"image-orientation":!1,"image-resolution":!1,"ime-mode":!1,"initial-letters":!1,"inline-box-align":!1,"justify-content":!1,"justify-items":!1,"justify-self":!1,left:!1,"letter-spacing":!0,"lighting-color":!0,"line-box-contain":!1,"line-break":!1,"line-grid":!1,"line-height":!1,"line-snap":!1,"line-stacking":!1,"line-stacking-ruby":!1,"line-stacking-shift":!1,"line-stacking-strategy":!1,"list-style":!0,"list-style-image":!0,"list-style-position":!0,"list-style-type":!0,margin:!0,"margin-bottom":!0,"margin-left":!0,"margin-right":!0,"margin-top":!0,"marker-offset":!1,"marker-side":!1,marks:!1,mask:!1,"mask-box":!1,"mask-box-outset":!1,"mask-box-repeat":!1,"mask-box-slice":!1,"mask-box-source":!1,"mask-box-width":!1,"mask-clip":!1,"mask-image":!1,"mask-origin":!1,"mask-position":!1,"mask-repeat":!1,"mask-size":!1,"mask-source-type":!1,"mask-type":!1,"max-height":!0,"max-lines":!1,"max-width":!0,"min-height":!0,"min-width":!0,"move-to":!1,"nav-down":!1,"nav-index":!1,"nav-left":!1,"nav-right":!1,"nav-up":!1,"object-fit":!1,"object-position":!1,opacity:!1,order:!1,orphans:!1,outline:!1,"outline-color":!1,"outline-offset":!1,"outline-style":!1,"outline-width":!1,overflow:!1,"overflow-wrap":!1,"overflow-x":!1,"overflow-y":!1,padding:!0,"padding-bottom":!0,"padding-left":!0,"padding-right":!0,"padding-top":!0,page:!1,"page-break-after":!1,"page-break-before":!1,"page-break-inside":!1,"page-policy":!1,pause:!1,"pause-after":!1,"pause-before":!1,perspective:!1,"perspective-origin":!1,pitch:!1,"pitch-range":!1,"play-during":!1,position:!1,"presentation-level":!1,quotes:!1,"region-fragment":!1,resize:!1,rest:!1,"rest-after":!1,"rest-before":!1,richness:!1,right:!1,rotation:!1,"rotation-point":!1,"ruby-align":!1,"ruby-merge":!1,"ruby-position":!1,"shape-image-threshold":!1,"shape-outside":!1,"shape-margin":!1,size:!1,speak:!1,"speak-as":!1,"speak-header":!1,"speak-numeral":!1,"speak-punctuation":!1,"speech-rate":!1,stress:!1,"string-set":!1,"tab-size":!1,"table-layout":!1,"text-align":!0,"text-align-last":!0,"text-combine-upright":!0,"text-decoration":!0,"text-decoration-color":!0,"text-decoration-line":!0,"text-decoration-skip":!0,"text-decoration-style":!0,"text-emphasis":!0,"text-emphasis-color":!0,"text-emphasis-position":!0,"text-emphasis-style":!0,"text-height":!0,"text-indent":!0,"text-justify":!0,"text-orientation":!0,"text-overflow":!0,"text-shadow":!0,"text-space-collapse":!0,"text-transform":!0,"text-underline-position":!0,"text-wrap":!0,top:!1,transform:!1,"transform-origin":!1,"transform-style":!1,transition:!1,"transition-delay":!1,"transition-duration":!1,"transition-property":!1,"transition-timing-function":!1,"unicode-bidi":!1,"vertical-align":!1,visibility:!1,"voice-balance":!1,"voice-duration":!1,"voice-family":!1,"voice-pitch":!1,"voice-range":!1,"voice-rate":!1,"voice-stress":!1,"voice-volume":!1,volume:!1,"white-space":!1,widows:!1,width:!0,"will-change":!1,"word-break":!0,"word-spacing":!0,"word-wrap":!0,"wrap-flow":!1,"wrap-through":!1,"writing-mode":!1,"z-index":!1};return e}function r(){}function i(){}n.whiteList=o(),n.getDefaultWhiteList=o,n.onAttr=r,n.onIgnoreAttr=i},{}],8:[function(e,t,n){function o(e,t){return new i(t).process(e)}var r=e("./default"),i=e("./css");for(var a in(n=t.exports=o).FilterCSS=i,r)n[a]=r[a];"undefined"!=typeof window&&(window.filterCSS=t.exports)},{"./css":6,"./default":7}],9:[function(e,t){function n(e,t){function n(){if(!i){var n=o.trim(e.slice(a,s)),r=n.indexOf(":");if(-1!==r){var l=o.trim(n.slice(0,r)),u=o.trim(n.slice(r+1));if(l){var d=t(a,c.length,l,u,n);d&&(c+=d+"; ")}}}a=s+1}";"!==(e=o.trimRight(e))[e.length-1]&&(e+=";");for(var r=e.length,i=!1,a=0,s=0,c="";s<r;s++){var l=e[s];if("/"===l&&"*"===e[s+1]){var u=e.indexOf("*/",s+2);if(-1===u)break;a=(s=u+1)+1,i=!1}else"("===l?i=!0:")"===l?i=!1:";"===l?i||n():"\n"===l&&n()}return o.trim(c)}var o=e("./util");t.exports=n},{"./util":10}],10:[function(e,t){t.exports={indexOf:function(e,t){var n,o;if(Array.prototype.indexOf)return e.indexOf(t);for(n=0,o=e.length;n<o;n++)if(e[n]===t)return n;return-1},forEach:function(e,t,n){var o,r;if(Array.prototype.forEach)return e.forEach(t,n);for(o=0,r=e.length;o<r;o++)t.call(n,e[o],o,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},trimRight:function(e){return String.prototype.trimRight?e.trimRight():e.replace(/(\s*$)/g,"")}}},{}]},{},[2]),
/*! airbrake-js v1.6.6 */
function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(function(){try{return require("os")}catch(e){}}(),require("cross-fetch")):"function"==typeof define&&define.amd?define(["os","cross-fetch"],t):"object"==typeof exports?exports.Client=t(function(){try{return require("os")}catch(e){}}(),require("cross-fetch")):(e.airbrakeJs=e.airbrakeJs||{},e.airbrakeJs.Client=t(e[undefined],e.fetch))}("undefined"!=typeof self?self:this,function(e,t){return function(e){function t(o){if(n[o])return n[o].exports;var r=n[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:o})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(t.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var r in e)t.d(o,r,function(t){return e[t]}.bind(null,r));return o},t.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}({"./node_modules/error-stack-parser/error-stack-parser.js":
/*!***************************************************************!*\
  !*** ./node_modules/error-stack-parser/error-stack-parser.js ***!
  \***************************************************************/
/*! no static exports found */function(e,t,n){var o=!1;!function(t,r){"use strict";"function"==typeof o&&o.amd?o("error-stack-parser",["stackframe"],r):e.exports=r(n(/*! stackframe */"./node_modules/stackframe/stackframe.js"))}(0,function(e){"use strict";var t=/(^|@)\S+\:\d+/,n=/^\s*at .*(\S+\:\d+|\(native\))/m,o=/^(eval@)?(\[native code\])?$/;return{parse:function(e){if("undefined"!=typeof e.stacktrace||"undefined"!=typeof e["opera#sourceloc"])return this.parseOpera(e);if(e.stack&&e.stack.match(n))return this.parseV8OrIE(e);if(e.stack)return this.parseFFOrSafari(e);throw new Error("Cannot parse given Error object")},extractLocation:function(e){if(-1===e.indexOf(":"))return[e];var t=/(.+?)(?:\:(\d+))?(?:\:(\d+))?$/.exec(e.replace(/[\(\)]/g,""));return[t[1],t[2]||undefined,t[3]||undefined]},parseV8OrIE:function(t){return t.stack.split("\n").filter(function(e){return!!e.match(n)},this).map(function(t){t.indexOf("(eval ")>-1&&(t=t.replace(/eval code/g,"eval").replace(/(\(eval at [^\()]*)|(\)\,.*$)/g,""));var n=t.replace(/^\s+/,"").replace(/\(eval code/g,"(").split(/\s+/).slice(1),o=this.extractLocation(n.pop()),r=n.join(" ")||undefined,i=["eval","<anonymous>"].indexOf(o[0])>-1?undefined:o[0];return new e({functionName:r,fileName:i,lineNumber:o[1],columnNumber:o[2],source:t})},this)},parseFFOrSafari:function(t){return t.stack.split("\n").filter(function(e){return!e.match(o)},this).map(function(t){if(t.indexOf(" > eval")>-1&&(t=t.replace(/ line (\d+)(?: > eval line \d+)* > eval\:\d+\:\d+/g,":$1")),-1===t.indexOf("@")&&-1===t.indexOf(":"))return new e({functionName:t});var n=/((.*".+"[^@]*)?[^@]*)(?:@)/,o=t.match(n),r=o&&o[1]?o[1]:undefined,i=this.extractLocation(t.replace(n,""));return new e({functionName:r,fileName:i[0],lineNumber:i[1],columnNumber:i[2],source:t})},this)},parseOpera:function(e){return!e.stacktrace||e.message.indexOf("\n")>-1&&e.message.split("\n").length>e.stacktrace.split("\n").length?this.parseOpera9(e):e.stack?this.parseOpera11(e):this.parseOpera10(e)},parseOpera9:function(t){for(var n=/Line (\d+).*script (?:in )?(\S+)/i,o=t.message.split("\n"),r=[],i=2,a=o.length;i<a;i+=2){var s=n.exec(o[i]);s&&r.push(new e({fileName:s[2],lineNumber:s[1],source:o[i]}))}return r},parseOpera10:function(t){for(var n=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,o=t.stacktrace.split("\n"),r=[],i=0,a=o.length;i<a;i+=2){var s=n.exec(o[i]);s&&r.push(new e({functionName:s[3]||undefined,fileName:s[2],lineNumber:s[1],source:o[i]}))}return r},parseOpera11:function(n){return n.stack.split("\n").filter(function(e){return!!e.match(t)&&!e.match(/^Error created at/)},this).map(function(t){var n,o=t.split("@"),r=this.extractLocation(o.pop()),i=o.shift()||"",a=i.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^\)]*\)/g,"")||undefined;i.match(/\(([^\)]*)\)/)&&(n=i.replace(/^[^\(]+\(([^\)]*)\)$/,"$1"));var s=n===undefined||"[arguments not available]"===n?undefined:n.split(",");return new e({functionName:a,args:s,fileName:r[0],lineNumber:r[1],columnNumber:r[2],source:t})},this)}}})},"./node_modules/promise-polyfill/src/finally.js":
/*!******************************************************!*\
  !*** ./node_modules/promise-polyfill/src/finally.js ***!
  \******************************************************/
/*! exports provided: default */function(e,t,n){"use strict";function o(e){var t=this.constructor;return this.then(function(n){return t.resolve(e()).then(function(){return n})},function(n){return t.resolve(e()).then(function(){return t.reject(n)})})}n.r(t),t["default"]=o},"./node_modules/promise-polyfill/src/index.js":
/*!****************************************************!*\
  !*** ./node_modules/promise-polyfill/src/index.js ***!
  \****************************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t),function(e){function o(){}function r(e,t){return function(){e.apply(t,arguments)}}function i(e){if(!(this instanceof i))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=undefined,this._deferreds=[],d(e,this)}function a(e,t){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,i._immediateFn(function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null!==n){var o;try{o=n(e._value)}catch(r){return void c(t.promise,r)}s(t.promise,o)}else(1===e._state?s:c)(t.promise,e._value)})):e._deferreds.push(t)}function s(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if(t instanceof i)return e._state=3,e._value=t,void l(e);if("function"==typeof n)return void d(r(n,t),e)}e._state=1,e._value=t,l(e)}catch(o){c(e,o)}}function c(e,t){e._state=2,e._value=t,l(e)}function l(e){2===e._state&&0===e._deferreds.length&&i._immediateFn(function(){e._handled||i._unhandledRejectionFn(e._value)});for(var t=0,n=e._deferreds.length;t<n;t++)a(e,e._deferreds[t]);e._deferreds=null}function u(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function d(e,t){var n=!1;try{e(function(e){n||(n=!0,s(t,e))},function(e){n||(n=!0,c(t,e))})}catch(o){if(n)return;n=!0,c(t,o)}}var f=n(/*! ./finally */"./node_modules/promise-polyfill/src/finally.js"),m=setTimeout;i.prototype["catch"]=function(e){return this.then(null,e)},i.prototype.then=function(e,t){var n=new this.constructor(o);return a(this,new u(e,t,n)),n},i.prototype["finally"]=f["default"],i.all=function(e){return new i(function(t,n){function o(e,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var s=a.then;if("function"==typeof s)return void s.call(a,function(t){o(e,t)},n)}r[e]=a,0==--i&&t(r)}catch(c){n(c)}}if(!e||"undefined"==typeof e.length)throw new TypeError("Promise.all accepts an array");var r=Array.prototype.slice.call(e);if(0===r.length)return t([]);for(var i=r.length,a=0;a<r.length;a++)o(a,r[a])})},i.resolve=function(e){return e&&"object"==typeof e&&e.constructor===i?e:new i(function(t){t(e)})},i.reject=function(e){return new i(function(t,n){n(e)})},i.race=function(e){return new i(function(t,n){for(var o=0,r=e.length;o<r;o++)e[o].then(t,n)})},i._immediateFn="function"==typeof e&&function(t){e(t)}||function(e){m(e,0)},i._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)},t["default"]=i}.call(this,n(/*! ./../../timers-browserify/main.js */"./node_modules/timers-browserify/main.js").setImmediate)},"./node_modules/promise-polyfill/src/polyfill.js":
/*!*******************************************************!*\
  !*** ./node_modules/promise-polyfill/src/polyfill.js ***!
  \*******************************************************/
/*! no exports provided */function(e,t,n){"use strict";n.r(t),function(e){var t=n(/*! ./index */"./node_modules/promise-polyfill/src/index.js"),o=n(/*! ./finally */"./node_modules/promise-polyfill/src/finally.js"),r=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==e)return e;throw new Error("unable to locate global object")}();"Promise"in r?r.Promise.prototype["finally"]||(r.Promise.prototype["finally"]=o["default"]):r.Promise=t["default"]}.call(this,n(/*! ./../../webpack/buildin/global.js */"./node_modules/webpack/buildin/global.js"))},"./node_modules/setimmediate/setImmediate.js":
/*!***************************************************!*\
  !*** ./node_modules/setimmediate/setImmediate.js ***!
  \***************************************************/
/*! no static exports found */function(e,t,n){(function(e){!function(e,t){"use strict";function n(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var o={callback:e,args:t};return p[m]=o,f(m),m++}function o(e){delete p[e]}function r(e){var n=e.callback,o=e.args;switch(o.length){case 0:n();break;case 1:n(o[0]);break;case 2:n(o[0],o[1]);break;case 3:n(o[0],o[1],o[2]);break;default:n.apply(t,o)}}function i(e){if(h)setTimeout(i,0,e);else{var t=p[e];if(t){h=!0;try{r(t)}finally{o(e),h=!1}}}}function a(){f=function(e){process.nextTick(function(){i(e)})}}function s(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}function c(){var t="setImmediate$"+Math.random()+"$",n=function(n){n.source===e&&"string"==typeof n.data&&0===n.data.indexOf(t)&&i(+n.data.slice(t.length))};e.addEventListener?e.addEventListener("message",n,!1):e.attachEvent("onmessage",n),f=function(n){e.postMessage(t+n,"*")}}function l(){var e=new MessageChannel;e.port1.onmessage=function(e){i(e.data)},f=function(t){e.port2.postMessage(t)}}function u(){var e=g.documentElement;f=function(t){var n=g.createElement("script");n.onreadystatechange=function(){i(t),n.onreadystatechange=null,e.removeChild(n),n=null},e.appendChild(n)}}function d(){f=function(e){setTimeout(i,0,e)}}if(!e.setImmediate){var f,m=1,p={},h=!1,g=e.document,y=Object.getPrototypeOf&&Object.getPrototypeOf(e);y=y&&y.setTimeout?y:e,"[object process]"==={}.toString.call(e.process)?a():s()?c():e.MessageChannel?l():g&&"onreadystatechange"in g.createElement("script")?u():d(),y.setImmediate=n,y.clearImmediate=o}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,n(/*! ./../webpack/buildin/global.js */"./node_modules/webpack/buildin/global.js"))},"./node_modules/stackframe/stackframe.js":
/*!***********************************************!*\
  !*** ./node_modules/stackframe/stackframe.js ***!
  \***********************************************/
/*! no static exports found */function(e){var t=!1;!function(n,o){"use strict";"function"==typeof t&&t.amd?t("stackframe",[],o):e.exports=o()}(0,function(){"use strict";function e(e){return!isNaN(parseFloat(e))&&isFinite(e)}function t(e){return e.charAt(0).toUpperCase()+e.substring(1)}function n(e){return function(){return this[e]}}function o(e){if(e instanceof Object)for(var n=0;n<c.length;n++)e.hasOwnProperty(c[n])&&e[c[n]]!==undefined&&this["set"+t(c[n])](e[c[n]])}var r=["isConstructor","isEval","isNative","isToplevel"],i=["columnNumber","lineNumber"],a=["fileName","functionName","source"],s=["args"],c=r.concat(i,a,s);o.prototype={getArgs:function(){return this.args},setArgs:function(e){if("[object Array]"!==Object.prototype.toString.call(e))throw new TypeError("Args must be an Array");this.args=e},getEvalOrigin:function(){return this.evalOrigin},setEvalOrigin:function(e){if(e instanceof o)this.evalOrigin=e;else{if(!(e instanceof Object))throw new TypeError("Eval Origin must be an Object or StackFrame");this.evalOrigin=new o(e)}},toString:function(){return(this.getFunctionName()||"{anonymous}")+("("+(this.getArgs()||[]).join(",")+")")+(this.getFileName()?"@"+this.getFileName():"")+(e(this.getLineNumber())?":"+this.getLineNumber():"")+(e(this.getColumnNumber())?":"+this.getColumnNumber():"")}};for(var l=0;l<r.length;l++)o.prototype["get"+t(r[l])]=n(r[l]),o.prototype["set"+t(r[l])]=function(e){return function(t){this[e]=Boolean(t)}}(r[l]);for(var u=0;u<i.length;u++)o.prototype["get"+t(i[u])]=n(i[u]),o.prototype["set"+t(i[u])]=function(t){return function(n){if(!e(n))throw new TypeError(t+" must be a Number");this[t]=Number(n)}}(i[u]);for(var d=0;d<a.length;d++)o.prototype["get"+t(a[d])]=n(a[d]),o.prototype["set"+t(a[d])]=function(e){return function(t){this[e]=String(t)}}(a[d]);return o})},"./node_modules/timers-browserify/main.js":
/*!************************************************!*\
  !*** ./node_modules/timers-browserify/main.js ***!
  \************************************************/
/*! no static exports found */function(e,t,n){(function(e){function o(e,t){this._id=e,this._clearFn=t}var r=void 0!==e&&e||"undefined"!=typeof self&&self||window,i=Function.prototype.apply;t.setTimeout=function(){return new o(i.call(setTimeout,r,arguments),clearTimeout)},t.setInterval=function(){return new o(i.call(setInterval,r,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(r,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n(/*! setimmediate */"./node_modules/setimmediate/setImmediate.js"),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n(/*! ./../webpack/buildin/global.js */"./node_modules/webpack/buildin/global.js"))},"./node_modules/webpack/buildin/global.js":
/*!***********************************!*\
  !*** (webpack)/buildin/global.js ***!
  \***********************************/
/*! no static exports found */function(e){var t;t=function(){return this}();try{t=t||new Function("return this")()}catch(n){"object"==typeof window&&(t=window)}e.exports=t},"./src/client.ts":
/*!***********************!*\
  !*** ./src/client.ts ***!
  \***********************/
/*! no static exports found */function(e,t,n){"use strict";function o(e){return e&&e.startsWith&&e.startsWith("dev")}var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};n(/*! promise-polyfill/src/polyfill */"./node_modules/promise-polyfill/src/polyfill.js");var a=i(n(/*! ./jsonify_notice */"./src/jsonify_notice.ts")),s=i(n(/*! ./processor/stacktracejs */"./src/processor/stacktracejs.ts")),c=i(n(/*! ./filter/angular_message */"./src/filter/angular_message.ts")),l=i(n(/*! ./filter/debounce */"./src/filter/debounce.ts")),u=i(n(/*! ./filter/ignore */"./src/filter/ignore.ts")),d=i(n(/*! ./filter/node */"./src/filter/node.ts")),f=i(n(/*! ./filter/uncaught_message */"./src/filter/uncaught_message.ts")),m=i(n(/*! ./filter/window */"./src/filter/window.ts")),p=n(/*! ./http_req */"./src/http_req/index.ts"),h=n(/*! ./historian */"./src/historian.ts"),g=n(/*! ./routes */"./src/routes.ts"),y=function(){function e(e){var t=this;if(this.filters=[],this.offline=!1,this.todo=[],this.onClose=[],!e.projectId||!e.projectKey)throw new Error("airbrake: projectId and projectKey are required");this.opts=e,this.opts.host=this.opts.host||"https://api.airbrake.io",this.opts.timeout=this.opts.timeout||1e4,this.opts.keysBlacklist=this.opts.keysBlacklist||[/password/,/secret/],this.url=this.opts.host+"/api/v3/projects/"+this.opts.projectId+"/notices?key="+this.opts.projectKey,this.processor=this.opts.processor||s["default"],this.requester=p.makeRequester(this.opts),this.addFilter(u["default"]),this.addFilter(l["default"]()),this.addFilter(f["default"]),this.addFilter(c["default"]),!this.opts.environment&&"undefined"!=typeof process&&process.env.NODE_ENV&&(this.opts.environment=process.env.NODE_ENV),this.opts.environment&&this.addFilter(function(e){return e.context.environment=t.opts.environment,e}),"object"==typeof window?(this.addFilter(m["default"]),window.addEventListener&&(this.onOnline=this.onOnline.bind(this),window.addEventListener("online",this.onOnline),this.onOffline=this.onOffline.bind(this),window.addEventListener("offline",this.onOffline),this.onUnhandledrejection=this.onUnhandledrejection.bind(this),window.addEventListener("unhandledrejection",this.onUnhandledrejection),this.onClose.push(function(){window.removeEventListener("online",t.onOnline),window.removeEventListener("offline",t.onOffline),window.removeEventListener("unhandledrejection",t.onUnhandledrejection)}))):this.addFilter(d["default"]);var n=e.instrumentation||{};typeof n.console===undefined&&(n.console=!o(e.environment)),this.historian=h.Historian.instance(n),this.historian.registerNotifier(this)}return e.prototype.close=function(){for(var e=0,t=this.onClose;e<t.length;e++){(0,t[e])()}this.historian.unregisterNotifier(this)},e.prototype.addFilter=function(e){this.filters.push(e)},e.prototype.notify=function(e){var t=this,n={id:"",errors:[],context:r({severity:"error"},e.context),params:e.params||{},environment:e.environment||{},session:e.session||{}};if("object"==typeof e&&e.error!==undefined||(e={error:e}),!e.error)return n.error=new Error("airbrake: got err="+JSON.stringify(e.error)+", wanted an Error"),Promise.resolve(n);if(this.opts.ignoreWindowError&&e.context&&e.context.windowError)return n.error=new Error("airbrake: window error is ignored"),Promise.resolve(n);if(this.offline)return new Promise(function(o,r){for(t.todo.push({err:e,resolve:o,reject:r});t.todo.length>100;){var i=t.todo.shift();if(i===undefined)break;n.error=new Error("airbrake: offline queue is too large"),i.resolve(n)}});var o=this.historian.getHistory();o.length>0&&(n.context.history=o);var i=this.processor(e.error);n.errors.push(i);for(var a=0,s=this.filters;a<s.length;a++){var c=(0,s[a])(n);if(null===c)return n.error=new Error("airbrake: error is filtered"),Promise.resolve(n);n=c}return n.context||(n.context={}),n.context.language="JavaScript",n.context.notifier={name:"airbrake-js",version:"1.6.6",url:"https://github.com/airbrake/airbrake-js"},this.sendNotice(n)},e.prototype.sendNotice=function(e){var t=a["default"](e,{keysBlacklist:this.opts.keysBlacklist});if(this.opts.reporter){if("function"==typeof this.opts.reporter)return this.opts.reporter(e);console.warn("airbrake: options.reporter must be a function")}var n={method:"POST",url:this.url,body:t};return this.requester(n).then(function(t){return e.id=t.json.id,e})["catch"](function(t){return e.error=t,e})},e.prototype.wrap=function(e,t){if(void 0===t&&(t=[]),e._airbrake)return e;var n=this,o=function(){var t=Array.prototype.slice.call(arguments),o=n.wrapArguments(t);try{return e.apply(this,o)}catch(r){throw n.notify({error:r,params:{arguments:t}}),this.historian.ignoreNextWindowError(),r}};for(var r in e)e.hasOwnProperty(r)&&(o[r]=e[r]);for(var i=0,a=t;i<a.length;i++){r=a[i];e.hasOwnProperty(r)&&(o[r]=e[r])}return o._airbrake=!0,o.inner=e,o},e.prototype.wrapArguments=function(e){for(var t=0;t<e.length;t++){var n=e[t];"function"==typeof n&&(e[t]=this.wrap(n))}return e},e.prototype.call=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return this.wrap(e).apply(this,Array.prototype.slice.call(arguments,1))},e.prototype.onerror=function(){this.historian.onerror.apply(this.historian,arguments)},e.prototype.notifyRequest=function(e){this.routes||(this.routes=new g.Routes(this.opts)),this.routes.notifyRequest(e)},e.prototype.onOnline=function(){this.offline=!1;for(var e=function(e){t.notify(e.err).then(function(t){e.resolve(t)})},t=this,n=0,o=this.todo;n<o.length;n++){e(o[n])}this.todo=[]},e.prototype.onOffline=function(){this.offline=!0},e.prototype.onUnhandledrejection=function(e){var t=e.reason||e.detail&&e.detail.reason||"unhandled rejection with no reason given",n=t.message||String(t);n.indexOf&&0===n.indexOf("airbrake: ")||this.notify(t)},e}();e.exports=y},"./src/filter/angular_message.ts":
/*!***************************************!*\
  !*** ./src/filter/angular_message.ts ***!
  \***************************************/
/*! no static exports found */function(e,t){"use strict";function n(e){var t=e.errors[0];if(""!==t.type&&"Error"!==t.type)return e;var n=t.message.match(o);return null!==n&&(t.type=n[1],t.message=n[2]),e}Object.defineProperty(t,"__esModule",{value:!0});var o=new RegExp(["^","\\[(\\$.+)\\]","\\s","([\\s\\S]+)","$"].join(""));t["default"]=n},"./src/filter/debounce.ts":
/*!********************************!*\
  !*** ./src/filter/debounce.ts ***!
  \********************************/
/*! no static exports found */function(e,t){"use strict";function n(){var e,t;return function(n){var o=JSON.stringify(n.errors);return o===e?null:(t&&clearTimeout(t),e=o,t=setTimeout(function(){e=""},1e3),n)}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n},"./src/filter/ignore.ts":
/*!******************************!*\
  !*** ./src/filter/ignore.ts ***!
  \******************************/
/*! no static exports found */function(e,t){"use strict";function n(e){var t=e.errors[0];if(""===t.type&&-1!==o.indexOf(t.message))return null;if(t.backtrace&&t.backtrace.length>0&&"<anonymous>"===t.backtrace[0].file)return null;return e}Object.defineProperty(t,"__esModule",{value:!0});var o=["Script error","Script error.","InvalidAccessError"];t["default"]=n},"./src/filter/node.ts":
/*!****************************!*\
  !*** ./src/filter/node.ts ***!
  \****************************/
/*! no static exports found */function(e,t,n){"use strict";function o(e){var t;try{t=n(/*! os */"os")}catch(o){}return t&&(e.context.os=t.type()+"/"+t.release(),e.context.architecture=t.arch(),e.context.hostname=t.hostname(),e.params.os={homedir:t.homedir(),uptime:t.uptime(),freemem:t.freemem(),totalmem:t.totalmem(),loadavg:t.loadavg()}),process&&(e.context.platform=process.platform,e.context.rootDirectory||(e.context.rootDirectory=process.cwd()),e.params.process={pid:process.pid,cwd:process.cwd(),execPath:process.execPath,argv:process.argv},["uptime","cpuUsage","memoryUsage"].map(function(t){process[t]&&(e.params.process[t]=process[t]())})),e}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=o},"./src/filter/uncaught_message.ts":
/*!****************************************!*\
  !*** ./src/filter/uncaught_message.ts ***!
  \****************************************/
/*! no static exports found */function(e,t){"use strict";function n(e){var t=e.errors[0];if(""!==t.type&&"Error"!==t.type)return e;var n=t.message.match(o);return null!==n&&(t.type=n[1],t.message=n[2]),e}Object.defineProperty(t,"__esModule",{value:!0});var o=new RegExp(["^","Uncaught\\s","(.+?)",":\\s","(.+)","$"].join(""));t["default"]=n},"./src/filter/window.ts":
/*!******************************!*\
  !*** ./src/filter/window.ts ***!
  \******************************/
/*! no static exports found */function(e,t){"use strict";function n(e){return window.navigator&&window.navigator.userAgent&&(e.context.userAgent=window.navigator.userAgent),window.location&&(e.context.url=String(window.location),e.context.rootDirectory=window.location.protocol+"//"+window.location.host),e}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n},"./src/historian.ts":
/*!**************************!*\
  !*** ./src/historian.ts ***!
  \**************************/
/*! no static exports found */function(e,t,n){"use strict";function o(e){return e===undefined||!0===e}Object.defineProperty(t,"__esModule",{value:!0});var r=n(/*! ./instrumentation/dom */"./src/instrumentation/dom.ts"),i=["debug","log","info","warn","error"],a=function(){function e(e){void 0===e&&(e={});var t=this;if(this.historyMaxLen=20,this.notifiers=[],this.errors=[],this.ignoreWindowError=0,this.history=[],this.ignoreNextXHR=0,o(e.console)&&"object"==typeof console&&console.error&&(this.consoleError=console.error),"object"==typeof window){if(o(e.onerror)){var n=this,r=window.onerror;window.onerror=function(){r&&r.apply(this,arguments),n.onerror.apply(n,arguments)}}this.domEvents(),o(e.fetch)&&"function"==typeof fetch&&this.fetch(),o(e.history)&&"object"==typeof history&&this.location()}"object"==typeof process&&"function"==typeof process.on&&(process.on("uncaughtException",function(e){t.notify(e).then(function(){1===process.listeners("uncaughtException").length&&(t.consoleError&&t.consoleError("uncaught exception",e),process.exit(1))})}),process.on("unhandledRejection",function(e){var n=e.message||String(e);n.indexOf&&0===n.indexOf("airbrake: ")||t.notify(e).then(function(){1===process.listeners("unhandledRejection").length&&(t.consoleError&&t.consoleError("unhandled rejection",e),process.exit(1))})})),o(e.console)&&"object"==typeof console&&this.console(),o(e.xhr)&&"undefined"!=typeof XMLHttpRequest&&this.xhr()}return e.instance=function(t){return void 0===t&&(t={}),e._instance||(e._instance=new e(t)),e._instance},e.prototype.registerNotifier=function(e){this.notifiers.push(e);for(var t=0,n=this.errors;t<n.length;t++){var o=n[t];this.notifyNotifiers(o)}this.errors=[]},e.prototype.unregisterNotifier=function(e){var t=this.notifiers.indexOf(e);-1!==t&&this.notifiers.splice(t,1)},e.prototype.notify=function(e){return this.notifiers.length>0?this.notifyNotifiers(e):(this.errors.push(e),this.errors.length>this.historyMaxLen&&(this.errors=this.errors.slice(-this.historyMaxLen)),Promise.resolve(null))},e.prototype.notifyNotifiers=function(e){for(var t=[],n=0,o=this.notifiers;n<o.length;n++){var r=o[n];t.push(r.notify(e))}return Promise.all(t).then(function(e){return e[0]})},e.prototype.onerror=function(e,t,n,o,r){this.ignoreWindowError>0||(r?this.notify({error:r,context:{windowError:!0}}):t&&n&&this.notify({error:{message:e,fileName:t,lineNumber:n,columnNumber:o,noStack:!0},context:{windowError:!0}}))},e.prototype.ignoreNextWindowError=function(){var e=this;this.ignoreWindowError++,setTimeout(function(){return e.ignoreWindowError--})},e.prototype.getHistory=function(){return this.history},e.prototype.pushHistory=function(e){this.isDupState(e)?this.lastState.num?this.lastState.num++:this.lastState.num=2:(e.date||(e.date=new Date),this.history.push(e),this.lastState=e,this.history.length>this.historyMaxLen&&(this.history=this.history.slice(-this.historyMaxLen)))},e.prototype.isDupState=function(e){if(!this.lastState)return!1;for(var t in e)if(e.hasOwnProperty(t)&&"date"!==t&&e[t]!==this.lastState[t])return!1;return!0},e.prototype.domEvents=function(){var e=r.makeEventHandler(this);window.addEventListener&&(window.addEventListener("load",e),window.addEventListener("error",function(t){"error"in t||e(t)},!0)),"object"==typeof document&&document.addEventListener&&(document.addEventListener("DOMContentLoaded",e),document.addEventListener("click",e),document.addEventListener("keypress",e))},e.prototype.console=function(){for(var e=this,t=function(t){if(!(t in console))return"continue";var n=console[t],o=function(){for(var o=[],r=0;r<arguments.length;r++)o[r]=arguments[r];n.apply(console,o),e.pushHistory({type:"log",severity:t,arguments:o})};o.inner=n,console[t]=o},n=0,o=i;n<o.length;n++){t(o[n])}},e.prototype.unwrapConsole=function(){for(var e=0,t=i;e<t.length;e++){var n=t[e];n in console&&console[n].inner&&(console[n]=console[n].inner)}},e.prototype.fetch=function(){var e=this,t=window.fetch;window.fetch=function(n,o){var r={type:"xhr",date:new Date};return r.url="string"==typeof n?n:n.url,r.method=o&&o.method?o.method:"GET",e.ignoreNextXHR++,setTimeout(function(){return e.ignoreNextXHR--}),t.apply(this,arguments).then(function(t){return r.statusCode=t.status,r.duration=(new Date).getTime()-r.date.getTime(),e.pushHistory(r),t})["catch"](function(t){throw r.error=t,r.duration=(new Date).getTime()-r.date.getTime(),e.pushHistory(r),t})}},e.prototype.xhr=function(){var e=this,t=XMLHttpRequest.prototype.open;XMLHttpRequest.prototype.open=function(n,o){0===e.ignoreNextXHR&&(this.__state={type:"xhr",method:n,url:o}),t.apply(this,arguments)};var n=XMLHttpRequest.prototype.send;XMLHttpRequest.prototype.send=function(){var t=this.onreadystatechange;return this.onreadystatechange=function(){if(4===this.readyState&&this.__state&&e.recordReq(this),t)return t.apply(this,arguments)},this.__state&&(this.__state.date=new Date),n.apply(this,arguments)}},e.prototype.recordReq=function(e){var t=e.__state;t.statusCode=e.status,t.duration=(new Date).getTime()-t.date.getTime(),this.pushHistory(t)},e.prototype.location=function(){this.lastLocation=document.location.pathname;var e=this,t=window.onpopstate;window.onpopstate=function(){if(e.recordLocation(document.location.pathname),t)return t.apply(this,arguments)};var n=history.pushState;history.pushState=function(t,o,r){r&&e.recordLocation(r.toString()),n.apply(this,arguments)}},e.prototype.recordLocation=function(e){var t=e.indexOf("://");t>=0?e=(t=(e=e.slice(t+3)).indexOf("/"))>=0?e.slice(t):"/":"/"!==e.charAt(0)&&(e="/"+e),this.pushHistory({type:"location",from:this.lastLocation,to:e}),this.lastLocation=e},e}();t.Historian=a},"./src/http_req/fetch.ts":
/*!*******************************!*\
  !*** ./src/http_req/fetch.ts ***!
  \*******************************/
/*! no static exports found */function(e,t,n){"use strict";function o(e){if(Date.now()/1e3<a)return Promise.reject(i.errors.ipRateLimited);var t={method:e.method,body:e.body};return r(e.url,t).then(function(e){if(401===e.status)throw i.errors.unauthorized;if(429===e.status){var t=e.headers.get("X-RateLimit-Delay");if(!t)throw i.errors.ipRateLimited;var n=parseInt(t,10);throw n>0&&(a=Date.now()/1e3+n),i.errors.ipRateLimited}return 204===e.status?{json:null}:e.status>=200&&e.status<300?e.json().then(function(e){return{json:e}}):e.status>=400&&e.status<500?e.json().then(function(e){throw new Error(e.message)}):e.text().then(function(t){throw new Error("airbrake: fetch: unexpected response: code="+e.status+" body='"+t+"'")})})}Object.defineProperty(t,"__esModule",{value:!0});var r=n(/*! cross-fetch */"cross-fetch"),i=n(/*! ./index */"./src/http_req/index.ts"),a=0;t.request=o},"./src/http_req/index.ts":
/*!*******************************!*\
  !*** ./src/http_req/index.ts ***!
  \*******************************/
/*! no static exports found */function(e,t,n){"use strict";function o(e){return e.request?i.makeRequester(e.request):r.request}Object.defineProperty(t,"__esModule",{value:!0});var r=n(/*! ./fetch */"./src/http_req/fetch.ts"),i=n(/*! ./node */"./src/http_req/node.ts");t.makeRequester=o,t.errors={unauthorized:new Error("airbrake: unauthorized: project id or key are wrong"),ipRateLimited:new Error("airbrake: IP is rate limited")}},"./src/http_req/node.ts":
/*!******************************!*\
  !*** ./src/http_req/node.ts ***!
  \******************************/
/*! no static exports found */function(e,t,n){"use strict";function o(e){return function(t){return r(t,e)}}function r(e,t){return Date.now()/1e3<a?Promise.reject(i.errors.ipRateLimited):new Promise(function(n,o){t({url:e.url,method:e.method,body:e.body,headers:{"content-type":"application/json"},timeout:e.timeout},function(e,t,r){if(e)o(e);else{if(!t.statusCode)return e=new Error("airbrake: request: response statusCode is "+t.statusCode),void o(e);if(401!==t.statusCode)if(429!==t.statusCode)if(204!==t.statusCode)if(t.statusCode>=200&&t.statusCode<300){var s=void 0;try{s=JSON.parse(r)}catch(d){return void o(d)}n(s)}else{if(t.statusCode>=400&&t.statusCode<500){s=void 0;try{s=JSON.parse(r)}catch(d){return void o(d)}return e=new Error(s.message),void o(e)}r=r.trim(),e=new Error("airbrake: node: unexpected response: code="+t.statusCode+" body='"+r+"'"),o(e)}else n({json:null});else{o(i.errors.ipRateLimited);var c=t.headers["x-ratelimit-delay"];if(!c)return;var l=void 0;if("string"==typeof c)l=c;else{if(!(c instanceof Array))return;l=c[0]}var u=parseInt(l,10);u>0&&(a=Date.now()/1e3+u)}else o(i.errors.unauthorized)}})})}Object.defineProperty(t,"__esModule",{value:!0});var i=n(/*! ./index */"./src/http_req/index.ts");t.makeRequester=o;var a=0},"./src/instrumentation/dom.ts":
/*!************************************!*\
  !*** ./src/instrumentation/dom.ts ***!
  \************************************/
/*! no static exports found */function(e,t){"use strict";function n(e){if(!e)return"";var t=[];if(e.tagName&&t.push(e.tagName.toLowerCase()),e.id&&(t.push("#"),t.push(e.id)),e.classList&&Array.from)t.push("."),t.push(Array.from(e.classList).join("."));else if(e.className){var n=o(e.className);""!==n&&(t.push("."),t.push(n))}if(e.getAttribute)for(var r=0,i=a;r<i.length;r++){var s=i[r],c=e.getAttribute(s);c&&t.push("["+s+'="'+c+'"]')}return t.join("")}function o(e){return e.split?e.split(" ").join("."):e.baseVal&&e.baseVal.split?e.baseVal.split(" ").join("."):(console.error("unsupported HTMLElement.className type",typeof e),"")}function r(e){for(var t=10,o=[],r=e;r;){var i=n(r);if(""!==i&&(o.push(i),o.length>t))break;r=r.parentNode}return 0===o.length?String(e):o.reverse().join(" > ")}function i(e){return function(t){var n;try{n=t.target}catch(i){return}if(n){var o={type:t.type};try{o.target=r(n)}catch(a){o.target="<"+String(a)+">"}e.pushHistory(o)}}}Object.defineProperty(t,"__esModule",{value:!0});var a=["type","name","src"];t.makeEventHandler=i},"./src/jsonify_notice.ts":
/*!*******************************!*\
  !*** ./src/jsonify_notice.ts ***!
  \*******************************/
/*! no static exports found */function(e,t){"use strict";function n(e,t){var n=void 0===t?{}:t,o=n.maxLength,i=void 0===o?64e3:o,a=n.keysBlacklist,s=void 0===a?[]:a;if(e.errors)for(var c=0;c<e.errors.length;c++){var l=new u({keysBlacklist:s});e.errors[c]=l.truncate(e.errors[c])}for(var d="",f=["context","params","environment","session"],m=0;m<8;m++){for(var p={level:m,keysBlacklist:s},h=0,g=f;h<g.length;h++){(_=e[w=g[h]])&&(e[w]=r(_,p))}if((d=JSON.stringify(e)).length<i)return d}var y={json:d.slice(0,Math.floor(i/2))+"..."};f.push("errors");for(var v=0,b=f;v<b.length;v++){var w,_;(_=e[w=b[v]])&&(d=JSON.stringify(_),y[w]=d.length)}var E=new Error("airbrake: notice exceeds max length and can't be truncated");throw E.params=y,E}function o(e,t){return e>>t||1}function r(e,t){return void 0===t&&(t={}),new u(t).truncate(e)}function i(e,t){try{return e[t]}catch(n){return}}function a(e){return Object.prototype.toString.apply(e).slice("[object ".length,-1)}function s(e,t){for(var n=0,o=t;n<o.length;n++){var r=o[n];if(r===e)return!0;if(r instanceof RegExp&&e.match(r))return!0}return!1}Object.defineProperty(t,"__esModule",{value:!0});var c="[Filtered]",l=128;t["default"]=n;var u=function(){function e(e){this.maxStringLength=1024,this.maxObjectLength=l,this.maxArrayLength=l,this.maxDepth=8,this.keys=[],this.keysBlacklist=[],this.seen=[];var t=e.level||0;this.keysBlacklist=e.keysBlacklist||[],this.maxStringLength=o(this.maxStringLength,t),this.maxObjectLength=o(this.maxObjectLength,t),this.maxArrayLength=o(this.maxArrayLength,t),this.maxDepth=o(this.maxDepth,t)}return e.prototype.truncate=function(e,t,n){if(void 0===t&&(t=""),void 0===n&&(n=0),null===e||e===undefined)return e;switch(typeof e){case"boolean":case"number":case"function":return e;case"string":return this.truncateString(e);case"object":break;default:return this.truncateString(String(e))}if(e instanceof String)return this.truncateString(e.toString());if(e instanceof Boolean||e instanceof Number||e instanceof Date||e instanceof RegExp)return e;if(e instanceof Error)return this.truncateString(e.toString());if(this.seen.indexOf(e)>=0)return"[Circular "+this.getPath(e)+"]";var o=a(e);if(++n>this.maxDepth)return"[Truncated "+o+"]";switch(this.keys.push(t),this.seen.push(e),o){case"Array":return this.truncateArray(e,n);case"Object":return this.truncateObject(e,n);default:var r=this.maxDepth;this.maxDepth=0;var i=this.truncateObject(e,n);return i.__type=o,this.maxDepth=r,i}},e.prototype.getPath=function(e){for(var t=this.seen.indexOf(e),n=[this.keys[t]],o=t;o>=0;o--){var r=this.seen[o];r&&i(r,n[0])===e&&(e=r,n.unshift(this.keys[o]))}return"~"+n.join(".")},e.prototype.truncateString=function(e){return e.length>this.maxStringLength?e.slice(0,this.maxStringLength)+"...":e},e.prototype.truncateArray=function(e,t){void 0===t&&(t=0);for(var n=0,o=[],r=0;r<e.length;r++){var i=e[r];if(o.push(this.truncate(i,r.toString(),t)),++n>=this.maxArrayLength)break}return o},e.prototype.truncateObject=function(e,t){void 0===t&&(t=0);var n=0,o={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r))if(s(r,this.keysBlacklist))o[r]=c;else{var a=i(e,r);if(a!==undefined&&"function"!=typeof a&&(o[r]=this.truncate(a,r,t),++n>=this.maxObjectLength))break}return o},e}();t.truncate=r},"./src/processor/stacktracejs.ts":
/*!***************************************!*\
  !*** ./src/processor/stacktracejs.ts ***!
  \***************************************/
/*! no static exports found */function(e,t,n){"use strict";function o(e){try{return i.parse(e)}catch(t){a&&e.stack&&console.warn("ErrorStackParser:",t.toString(),e.stack)}return e.fileName?[e]:[]}function r(e){var t=[];if(!e.noStack){var n=o(e);if(0===n.length)try{throw new Error("fake")}catch(s){(n=o(s)).shift(),n.shift()}for(var r=0,i=n;r<i.length;r++){var a=i[r];t.push({"function":a.functionName||"",file:a.fileName||"",line:a.lineNumber||0,column:a.columnNumber||0})}}return{type:e.name?e.name:"",message:e.message?String(e.message):String(e),backtrace:t}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(/*! error-stack-parser */"./node_modules/error-stack-parser/error-stack-parser.js"),a="object"==typeof console&&console.warn;t["default"]=r},"./src/routes.ts":
/*!***********************!*\
  !*** ./src/routes.ts ***!
  \***********************/
/*! no static exports found */function(e,t,n){"use strict";function o(e){if(e instanceof Date)return e.getTime();if("number"==typeof e)return e;if(e instanceof Array)return e[0]+e[1]/l;throw new Error("unsupported type: "+typeof e)}function r(e,t){if(e instanceof Date&&t instanceof Date)return t.getTime()-e.getTime();if("number"==typeof e&&"number"==typeof t)return t-e;if(e instanceof Array&&t instanceof Array){var n=t[0]-e[0];return n+=(t[1]-e[1])/l}throw new Error("unsupported type: "+typeof e)}var i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var a=n(/*! ./http_req */"./src/http_req/index.ts"),s=15e3,c=function(){function e(e){this.m={},this.opts=e,this.url=this.opts.host+"/api/v5/projects/"+this.opts.projectId+"/routes-stats?key="+this.opts.projectKey,this.requester=a.makeRequester(this.opts)}return e.prototype.notifyRequest=function(e){var t=this,n=r(e.start,e.end);0===n&&(n=.1);var i=6e4;e.start=new Date(Math.floor(o(e.start)/i)*i);var a,c={method:e.method,route:e.route,statusCode:e.statusCode,time:e.start},l=JSON.stringify(c);l in this.m?a=this.m[l]:(a={count:0,sum:0,sumsq:0},this.opts.TDigest&&(a.tdigest=new this.opts.TDigest),this.m[l]=a),a.count++,a.sum+=n,a.sumsq+=n*n,a.tdigest&&a.tdigest.push(n),this.timer||(this.timer=setTimeout(function(){t.flush()},s))},e.prototype.flush=function(){var e=[];for(var t in this.m)if(this.m.hasOwnProperty(t)){var n=JSON.parse(t),o=i({},n,this.m[t]);o.tdigest&&(o.tdigestCentroids=this.tdigestCentroids(o.tdigest),delete o.tdigest),e.push(o)}this.m={},this.timer=null;var r={method:"POST",url:this.url,body:JSON.stringify({environment:this.opts.environment,routes:e})};this.requester(r).then(function(){})["catch"](function(e){console.error&&console.error("can not report routes stats",e)})},e.prototype.tdigestCentroids=function(e){var t=[],n=[];return e.centroids.each(function(e){t.push(e.mean),n.push(e.n)}),{mean:t,count:n}},e}();t.Routes=c;var l=1e6},0:
/*!*****************************!*\
  !*** multi ./src/client.ts ***!
  \*****************************/
/*! no static exports found */function(e,t,n){e.exports=n(/*! ./src/client.ts */"./src/client.ts")},"cross-fetch":
/*!********************************************************************************************************!*\
  !*** external {"commonjs":"cross-fetch","commonjs2":"cross-fetch","amd":"cross-fetch","root":"fetch"} ***!
  \********************************************************************************************************/
/*! no static exports found */function(e){e.exports=t},os:
/*!**************************************************************!*\
  !*** external {"commonjs":"os","commonjs2":"os","amd":"os"} ***!
  \**************************************************************/
/*! no static exports found */function(t){if(void 0===e){var n=new Error("Cannot find module 'undefined'");throw n.code="MODULE_NOT_FOUND",n}t.exports=e}})}),"serviceWorker"in navigator&&navigator.serviceWorker.register("/serviceworker.js",{scope:"/"}).then(function(){})["catch"](function(e){console.log("ServiceWorker registration failed: ",e)}),window.addEventListener("beforeinstallprompt",function(e){e.userChoice.then(function(e){ga("send","event","PWA-install",e.outcome)})}),function(e){var t;"undefined"!=typeof window?t=window:"undefined"!=typeof self&&(t=self),t.ALGOLIA_MIGRATION_LAYER=e()}(function(){return function e(t,n,o){function r(a,s){if(!n[a]){if(!t[a]){var c="function"==typeof require&&require;if(!s&&c)return c(a,!0);if(i)return i(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var u=n[a]={exports:{}};t[a][0].call(u.exports,function(e){var n=t[a][1][e];return r(n||e)},u,u.exports,e,t,n,o)}return n[a].exports}for(var i="function"==typeof require&&require,a=0;a<o.length;a++)r(o[a]);return r}({1:[function(e,t){function n(e,t){for(var n in t)e.setAttribute(n,t[n])}function o(e,t){e.onload=function(){this.onerror=this.onload=null,t(null,e)},e.onerror=function(){this.onerror=this.onload=null,t(new Error("Failed to load "+this.src),e)}}function r(e,t){e.onreadystatechange=function(){"complete"!=this.readyState&&"loaded"!=this.readyState||(this.onreadystatechange=null,t(null,e))}}t.exports=function(e,t,i){var a=document.head||document.getElementsByTagName("head")[0],s=document.createElement("script");"function"==typeof t&&(i=t,t={}),t=t||{},i=i||function(){},s.type=t.type||"text/javascript",s.charset=t.charset||"utf8",s.async=!("async"in t&&!t.async),s.src=e,t.attrs&&n(s,t.attrs),t.text&&(s.text=""+t.text),("onload"in s?o:r)(s,i),s.onload||o(s,i),a.appendChild(s)}},{}],2:[function(e,t){"use strict";function n(e){for(var t=new RegExp("cdn\\.jsdelivr\\.net/algoliasearch/latest/"+e.replace(".","\\.")+"(?:\\.min)?\\.js$"),n=document.getElementsByTagName("script"),o=!1,r=0,i=n.length;r<i;r++)if(n[r].src&&t.test(n[r].src)){o=!0;break}return o}t.exports=n},{}],3:[function(e,t){"use strict";function n(t){var n=e(1),r="//cdn.jsdelivr.net/algoliasearch/2/"+t+".min.js",i="-- AlgoliaSearch `latest` warning --\nWarning, you are using the `latest` version string from jsDelivr to load the AlgoliaSearch library.\nUsing `latest` is no more recommended, you should load //cdn.jsdelivr.net/algoliasearch/2/algoliasearch.min.js\n\nAlso, we updated the AlgoliaSearch JavaScript client to V3. If you want to upgrade,\nplease read our migration guide at https://github.com/algolia/algoliasearch-client-js/wiki/Migration-guide-from-2.x.x-to-3.x.x\n-- /AlgoliaSearch  `latest` warning --";window.console&&(window.console.warn?window.console.warn(i):window.console.log&&window.console.log(i));try{document.write("<script>window.ALGOLIA_SUPPORTS_DOCWRITE = true</script>"),!0===window.ALGOLIA_SUPPORTS_DOCWRITE?(document.write('<script src="'+r+'"></script>'),o("document.write")()):n(r,o("DOMElement"))}catch(a){n(r,o("DOMElement"))}}function o(e){return function(){var t="AlgoliaSearch: loaded V2 script using "+e;window.console&&window.console.log&&window.console.log(t)}}t.exports=n},{1:1}],4:[function(e,t){"use strict";function n(){var e="-- AlgoliaSearch V2 => V3 error --\nYou are trying to use a new version of the AlgoliaSearch JavaScript client with an old notation.\nPlease read our migration guide at https://github.com/algolia/algoliasearch-client-js/wiki/Migration-guide-from-2.x.x-to-3.x.x\n-- /AlgoliaSearch V2 => V3 error --";window.AlgoliaSearch=function(){throw new Error(e)},window.AlgoliaSearchHelper=function(){throw new Error(e)},window.AlgoliaExplainResults=function(){throw new Error(e)}}t.exports=n},{}],5:[function(e){"use strict";function t(t){var n=e(2),o=e(3),r=e(4);n(t)?o(t):r()}t("algoliasearch")},{2:2,3:3,4:4}]},{},[5])(5)}),function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).algoliasearch=e()}}(function(){var e;return function t(e,n,o){function r(a,s){if(!n[a]){if(!e[a]){var c="function"==typeof require&&require;if(!s&&c)return c(a,!0);if(i)return i(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var u=n[a]={exports:{}};e[a][0].call(u.exports,function(t){var n=e[a][1][t];return r(n||t)},u,u.exports,t,e,n,o)}return n[a].exports}for(var i="function"==typeof require&&require,a=0;a<o.length;a++)r(o[a]);return r}({1:[function(e,t,n){(function(o){function r(){return"undefined"!=typeof document&&"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31}function i(){var e=arguments,t=this.useColors;if(e[0]=(t?"%c":"")+this.namespace+(t?" %c":" ")+e[0]+(t?"%c ":" ")+"+"+n.humanize(this.diff),!t)return e;var o="color: "+this.color;e=[e[0],o,"color: inherit"].concat(Array.prototype.slice.call(e,1));var r=0,i=0;return e[0].replace(/%[a-z%]/g,function(e){"%%"!==e&&("%c"===e&&(i=++r))}),e.splice(i,0,o),e}function a(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function s(e){try{null==e?n.storage.removeItem("debug"):n.storage.debug=e}catch(t){}}function c(){try{return n.storage.debug}catch(e){}if(void 0!==o&&"env"in o)return o.env.DEBUG}function l(){try{return window.localStorage}catch(e){}}(n=t.exports=e(2)).log=a,n.formatArgs=i,n.save=s,n.load=c,n.useColors=r,n.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:l(),n.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],n.formatters.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},n.enable(c())}).call(this,e(12))},{12:12,2:2}],2:[function(e,t,n){function o(){return n.colors[u++%n.colors.length]}function r(e){function t(){}function r(){var e=r,t=+new Date,i=t-(l||t);e.diff=i,e.prev=l,e.curr=t,l=t,null==e.useColors&&(e.useColors=n.useColors()),null==e.color&&e.useColors&&(e.color=o());for(var a=new Array(arguments.length),s=0;s<a.length;s++)a[s]=arguments[s];a[0]=n.coerce(a[0]),"string"!=typeof a[0]&&(a=["%o"].concat(a));var c=0;a[0]=a[0].replace(/%([a-z%])/g,function(t,o){if("%%"===t)return t;c++;var r=n.formatters[o];if("function"==typeof r){var i=a[c];t=r.call(e,i),a.splice(c,1),c--}return t}),a=n.formatArgs.apply(e,a),(r.log||n.log||console.log.bind(console)).apply(e,a)}t.enabled=!1,r.enabled=!0;var i=n.enabled(e)?r:t;return i.namespace=e,i}function i(e){n.save(e);for(var t=(e||"").split(/[\s,]+/),o=t.length,r=0;r<o;r++)t[r]&&("-"===(e=t[r].replace(/[\\^$+?.()|[\]{}]/g,"\\$&").replace(/\*/g,".*?"))[0]?n.skips.push(new RegExp("^"+e.substr(1)+"$")):n.names.push(new RegExp("^"+e+"$")))}function a(){n.enable("")}function s(e){var t,o;for(t=0,o=n.skips.length;t<o;t++)if(n.skips[t].test(e))return!1;for(t=0,o=n.names.length;t<o;t++)if(n.names[t].test(e))return!0;return!1}function c(e){return e instanceof Error?e.stack||e.message:e}(n=t.exports=r.debug=r).coerce=c,n.disable=a,n.enable=i,n.enabled=s,n.humanize=e(9),n.names=[],n.skips=[],n.formatters={};var l,u=0},{9:9}],3:[function(t,n,o){(function(r,i){!function(t,r){"object"==typeof o&&void 0!==n?n.exports=r():"function"==typeof e&&e.amd?e(r):t.ES6Promise=r()}(this,function(){"use strict";function e(e){return"function"==typeof e||"object"==typeof e&&null!==e}function n(e){return"function"==typeof e}function o(e){Y=e}function a(e){$=e}function s(){return function(){return r.nextTick(f)}}function c(){return void 0!==W?function(){W(f)}:d()}function l(){var e=0,t=new Q(f),n=document.createTextNode("");return t.observe(n,{characterData:!0}),function(){n.data=e=++e%2}}function u(){var e=new MessageChannel;return e.port1.onmessage=f,function(){return e.port2.postMessage(0)}}function d(){var e=setTimeout;return function(){return e(f,1)}}function f(){for(var e=0;e<V;e+=2){(0,te[e])(te[e+1]),te[e]=void 0,te[e+1]=void 0}V=0}function m(){try{var e=t("vertx");return W=e.runOnLoop||e.runOnContext,c()}catch(o){return d()}}function p(e,t){var n=arguments,o=this,r=new this.constructor(g);void 0===r[oe]&&R(r);var i=o._state;return i?function(){var e=n[i-1];$(function(){return N(i,r,e,o._result)})}():L(o,r,e,t),r}function h(e){var t=this;if(e&&"object"==typeof e&&e.constructor===t)return e;var n=new t(g);return k(n,e),n}function g(){}function y(){return new TypeError("You cannot resolve a promise with itself")}function v(){return new TypeError("A promises callback cannot return that same promise.")}function b(e){try{return e.then}catch(t){return se.error=t,se}}function w(e,t,n,o){try{e.call(t,n,o)}catch(r){return r}}function _(e,t,n){$(function(e){var o=!1,r=w(n,t,function(n){o||(o=!0,t!==n?k(e,n):I(e,n))},function(t){o||(o=!0,S(e,t))},"Settle: "+(e._label||" unknown promise"));!o&&r&&(o=!0,S(e,r))},e)}function E(e,t){t._state===ie?I(e,t._result):t._state===ae?S(e,t._result):L(t,void 0,function(t){return k(e,t)},function(t){return S(e,t)})}function T(e,t,o){t.constructor===e.constructor&&o===p&&t.constructor.resolve===h?E(e,t):o===se?S(e,se.error):void 0===o?I(e,t):n(o)?_(e,t,o):I(e,t)}function k(t,n){t===n?S(t,y()):e(n)?T(t,n,b(n)):I(t,n)}function x(e){e._onerror&&e._onerror(e._result),B(e)}function I(e,t){e._state===re&&(e._result=t,e._state=ie,0!==e._subscribers.length&&$(B,e))}function S(e,t){e._state===re&&(e._state=ae,e._result=t,$(x,e))}function L(e,t,n,o){var r=e._subscribers,i=r.length;e._onerror=null,r[i]=t,r[i+ie]=n,r[i+ae]=o,0===i&&e._state&&$(B,e)}function B(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var o=void 0,r=void 0,i=e._result,a=0;a<t.length;a+=3)o=t[a],r=t[a+n],o?N(n,o,r,i):r(i);e._subscribers.length=0}}function A(){this.error=null}function O(e,t){try{return e(t)}catch(n){return ce.error=n,ce}}function N(e,t,o,r){var i=n(o),a=void 0,s=void 0,c=void 0,l=void 0;if(i){if((a=O(o,r))===ce?(l=!0,s=a.error,a=null):c=!0,t===a)return void S(t,v())}else a=r,c=!0;t._state!==re||(i&&c?k(t,a):l?S(t,s):e===ie?I(t,a):e===ae&&S(t,a))}function j(e,t){try{t(function(t){k(e,t)},function(t){S(e,t)})}catch(n){S(e,n)}}function C(){return le++}function R(e){e[oe]=le++,e._state=void 0,e._result=void 0,e._subscribers=[]}function M(e,t){this._instanceConstructor=e,this.promise=new e(g),this.promise[oe]||R(this.promise),J(t)?(this._input=t,this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?I(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&I(this.promise,this._result))):S(this.promise,P())}function P(){return new Error("Array Methods must be provided an Array")}function D(e){return new M(this,e).promise}function q(e){var t=this;return new t(J(e)?function(n,o){for(var r=e.length,i=0;i<r;i++)t.resolve(e[i]).then(n,o)}:function(e,t){return t(new TypeError("You must pass an array to race."))})}function H(e){var t=new this(g);return S(t,e),t}function F(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function U(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function z(e){this[oe]=C(),this._result=this._state=void 0,this._subscribers=[],g!==e&&("function"!=typeof e&&F(),this instanceof z?j(this,e):U())}function X(){var e=void 0;if(void 0!==i)e=i;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var n=e.Promise;if(n){var o=null;try{o=Object.prototype.toString.call(n.resolve())}catch(t){}if("[object Promise]"===o&&!n.cast)return}e.Promise=z}var J=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},V=0,W=void 0,Y=void 0,$=function(e,t){te[V]=e,te[V+1]=t,2===(V+=2)&&(Y?Y(f):ne())},G="undefined"!=typeof window?window:void 0,K=G||{},Q=K.MutationObserver||K.WebKitMutationObserver,Z="undefined"==typeof self&&void 0!==r&&"[object process]"==={}.toString.call(r),ee="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,te=new Array(1e3),ne=void 0;ne=Z?s():Q?l():ee?u():void 0===G&&"function"==typeof t?m():d();var oe=Math.random().toString(36).substring(16),re=void 0,ie=1,ae=2,se=new A,ce=new A,le=0;return M.prototype._enumerate=function(){for(var e=this.length,t=this._input,n=0;this._state===re&&n<e;n++)this._eachEntry(t[n],n)},M.prototype._eachEntry=function(e,t){var n=this._instanceConstructor,o=n.resolve;if(o===h){var r=b(e);if(r===p&&e._state!==re)this._settledAt(e._state,t,e._result);else if("function"!=typeof r)this._remaining--,this._result[t]=e;else if(n===z){var i=new n(g);T(i,e,r),this._willSettleAt(i,t)}else this._willSettleAt(new n(function(t){return t(e)}),t)}else this._willSettleAt(o(e),t)},M.prototype._settledAt=function(e,t,n){var o=this.promise;o._state===re&&(this._remaining--,e===ae?S(o,n):this._result[t]=n),0===this._remaining&&I(o,this._result)},M.prototype._willSettleAt=function(e,t){var n=this;L(e,void 0,function(e){return n._settledAt(ie,t,e)},function(e){return n._settledAt(ae,t,e)})},z.all=D,z.race=q,z.resolve=h,z.reject=H,z._setScheduler=o,z._setAsap=a,z._asap=$,z.prototype={constructor:z,then:p,"catch":function(e){return this.then(null,e)}},z.polyfill=X,z.Promise=z,z})}).call(this,t(12),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{12:12}],4:[function(e,t){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function o(e){return"function"==typeof e}function r(e){return"number"==typeof e}function i(e){return"object"==typeof e&&null!==e}function a(e){return void 0===e}t.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(e){if(!r(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},n.prototype.emit=function(e){var t,n,r,s,c,l;if(this._events||(this._events={}),"error"===e&&(!this._events.error||i(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var u=new Error('Uncaught, unspecified "error" event. ('+t+")");throw u.context=t,u}if(a(n=this._events[e]))return!1;if(o(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1),n.apply(this,s)}else if(i(n))for(s=Array.prototype.slice.call(arguments,1),r=(l=n.slice()).length,c=0;c<r;c++)l[c].apply(this,s);return!0},n.prototype.addListener=function(e,t){var r;if(!o(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,o(t.listener)?t.listener:t),this._events[e]?i(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,i(this._events[e])&&!this._events[e].warned&&((r=a(this._maxListeners)?n.defaultMaxListeners:this._maxListeners)&&r>0&&this._events[e].length>r&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace())),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(e,t){function n(){this.removeListener(e,n),r||(r=!0,t.apply(this,arguments))}if(!o(t))throw TypeError("listener must be a function");var r=!1;return n.listener=t,this.on(e,n),this},n.prototype.removeListener=function(e,t){var n,r,a,s;if(!o(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(a=(n=this._events[e]).length,r=-1,n===t||o(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(i(n)){for(s=a;s-- >0;)if(n[s]===t||n[s].listener&&n[s].listener===t){r=s;break}if(r<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(r,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},n.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(o(n=this._events[e]))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},n.prototype.listeners=function(e){return this._events&&this._events[e]?o(this._events[e])?[this._events[e]]:this._events[e].slice():[]},n.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(o(t))return 1;if(t)return t.length}return 0},n.listenerCount=function(e,t){return e.listenerCount(t)}},{}],5:[function(e,t){var n=Object.prototype.hasOwnProperty,o=Object.prototype.toString;t.exports=function(e,t,r){if("[object Function]"!==o.call(t))throw new TypeError("iterator must be a function");var i=e.length;if(i===+i)for(var a=0;a<i;a++)t.call(r,e[a],a,e);else for(var s in e)n.call(e,s)&&t.call(r,e[s],s,e)}},{}],6:[function(e,t){(function(e){"undefined"!=typeof window?t.exports=window:void 0!==e?t.exports=e:"undefined"!=typeof self?t.exports=self:t.exports={}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],7:[function(e,t){"function"==typeof Object.create?t.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},{}],8:[function(e,t){var n={}.toString;t.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},{}],9:[function(e,t){function n(e){if(!((e=String(e)).length>1e4)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var n=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return n*u;case"days":case"day":case"d":return n*l;case"hours":case"hour":case"hrs":case"hr":case"h":return n*c;case"minutes":case"minute":case"mins":case"min":case"m":return n*s;case"seconds":case"second":case"secs":case"sec":case"s":return n*a;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}function o(e){return e>=l?Math.round(e/l)+"d":e>=c?Math.round(e/c)+"h":e>=s?Math.round(e/s)+"m":e>=a?Math.round(e/a)+"s":e+"ms"}function r(e){return i(e,l,"day")||i(e,c,"hour")||i(e,s,"minute")||i(e,a,"second")||e+" ms"}function i(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}var a=1e3,s=60*a,c=60*s,l=24*c,u=365.25*l;t.exports=function(e,t){t=t||{};var i=typeof e;if("string"===i&&e.length>0)return n(e);if("number"===i&&!1===isNaN(e))return t.long?r(e):o(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},{}],10:[function(e,t){"use strict";var n=Object.prototype.hasOwnProperty,o=Object.prototype.toString,r=Array.prototype.slice,i=e(11),a=Object.prototype.propertyIsEnumerable,s=!a.call({toString:null},"toString"),c=a.call(function(){},"prototype"),l=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],u=function(e){var t=e.constructor;return t&&t.prototype===e},d={$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},f=function(){if("undefined"==typeof window)return!1;for(var e in window)try{if(!d["$"+e]&&n.call(window,e)&&null!==window[e]&&"object"==typeof window[e])try{u(window[e])}catch(t){return!0}}catch(t){return!0}return!1}(),m=function(e){if("undefined"==typeof window||!f)return u(e);try{return u(e)}catch(t){return!1}},p=function(e){var t=null!==e&&"object"==typeof e,r="[object Function]"===o.call(e),a=i(e),u=t&&"[object String]"===o.call(e),d=[];if(!t&&!r&&!a)throw new TypeError("Object.keys called on a non-object");var f=c&&r;if(u&&e.length>0&&!n.call(e,0))for(var p=0;p<e.length;++p)d.push(String(p));if(a&&e.length>0)for(var h=0;h<e.length;++h)d.push(String(h));else for(var g in e)f&&"prototype"===g||!n.call(e,g)||d.push(String(g));if(s)for(var y=m(e),v=0;v<l.length;++v)y&&"constructor"===l[v]||!n.call(e,l[v])||d.push(l[v]);return d};p.shim=function(){if(Object.keys){if(!function(){return 2===(Object.keys(arguments)||"").length}(1,2)){var e=Object.keys;Object.keys=function(t){return e(i(t)?r.call(t):t)}}}else Object.keys=p;return Object.keys||p},t.exports=p},{11:11}],11:[function(e,t){"use strict";var n=Object.prototype.toString;t.exports=function(e){var t=n.call(e),o="[object Arguments]"===t;return o||(o="[object Array]"!==t&&null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Function]"===n.call(e.callee)),o}},{}],12:[function(e,t){function n(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function r(e){if(u===setTimeout)return setTimeout(e,0);if((u===n||!u)&&setTimeout)return u=setTimeout,setTimeout(e,0);try{return u(e,0)}catch(t){try{return u.call(null,e,0)}catch(t){return u.call(this,e,0)}}}function i(e){if(d===clearTimeout)return clearTimeout(e);if((d===o||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(e);try{return d(e)}catch(t){try{return d.call(null,e)}catch(t){return d.call(this,e)}}}function a(){h&&m&&(h=!1,m.length?p=m.concat(p):g=-1,p.length&&s())}function s(){if(!h){var e=r(a);h=!0;for(var t=p.length;t;){for(m=p,p=[];++g<t;)m&&m[g].run();g=-1,t=p.length}m=null,h=!1,i(e)}}function c(e,t){this.fun=e,this.array=t}function l(){}var u,d,f=t.exports={};!function(){try{u="function"==typeof setTimeout?setTimeout:n}catch(e){u=n}try{d="function"==typeof clearTimeout?clearTimeout:o}catch(e){d=o}}();var m,p=[],h=!1,g=-1;f.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];p.push(new c(e,t)),1!==p.length||h||r(s)},c.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=l,f.addListener=l,f.once=l,f.off=l,f.removeListener=l,f.removeAllListeners=l,f.emit=l,f.binding=function(){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}},{}],13:[function(e,t){"use strict";function n(e,t){if(e.map)return e.map(t);for(var n=[],o=0;o<e.length;o++)n.push(t(e[o],o));return n}var o=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};t.exports=function(e,t,a,s){return t=t||"&",a=a||"=",null===e&&(e=void 0),"object"==typeof e?n(i(e),function(i){var s=encodeURIComponent(o(i))+a;return r(e[i])?n(e[i],function(e){return s+encodeURIComponent(o(e))}).join(t):s+encodeURIComponent(o(e[i]))}).join(t):s?encodeURIComponent(o(s))+a+encodeURIComponent(o(e)):""};var r=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},i=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}},{}],14:[function(e,t){function n(){s.apply(this,arguments)}function o(){var e="Not implemented in this environment.\nIf you feel this is a mistake, write to support@algolia.com";throw new l.AlgoliaSearchError(e)}t.exports=n;var r=e(16),i=e(26),a=e(27),s=e(15),c=e(7),l=e(28);c(n,s),n.prototype.deleteIndex=function(e,t){return this._jsonRequest({method:"DELETE",url:"/1/indexes/"+encodeURIComponent(e),hostType:"write",callback:t})},n.prototype.moveIndex=function(e,t,n){var o={operation:"move",destination:t};return this._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(e)+"/operation",body:o,hostType:"write",callback:n})},n.prototype.copyIndex=function(e,t,n){var o={operation:"copy",destination:t};return this._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(e)+"/operation",body:o,hostType:"write",callback:n})},n.prototype.getLogs=function(t,n,o){var r=e(25),i={};return"object"==typeof t?(i=r(t),o=n):0===arguments.length||"function"==typeof t?o=t:1===arguments.length||"function"==typeof n?(o=n,i.offset=t):(i.offset=t,i.length=n),void 0===i.offset&&(i.offset=0),void 0===i.length&&(i.length=10),this._jsonRequest({method:"GET",url:"/1/logs?"+this._getSearchParams(i,""),hostType:"read",callback:o})},n.prototype.listIndexes=function(e,t){var n="";return void 0===e||"function"==typeof e?t=e:n="?page="+e,this._jsonRequest({method:"GET",url:"/1/indexes"+n,hostType:"read",callback:t})},n.prototype.initIndex=function(e){return new r(this,e)},n.prototype.listUserKeys=function(e){return this._jsonRequest({method:"GET",url:"/1/keys",hostType:"read",callback:e})},n.prototype.getUserKeyACL=function(e,t){return this._jsonRequest({method:"GET",url:"/1/keys/"+e,hostType:"read",callback:t})},n.prototype.deleteUserKey=function(e,t){return this._jsonRequest({method:"DELETE",url:"/1/keys/"+e,hostType:"write",callback:t})},n.prototype.addUserKey=function(t,n,o){var r="Usage: client.addUserKey(arrayOfAcls[, params, callback])";if(!e(8)(t))throw new Error(r);1!==arguments.length&&"function"!=typeof n||(o=n,n=null);var i={acl:t};return n&&(i.validity=n.validity,i.maxQueriesPerIPPerHour=n.maxQueriesPerIPPerHour,i.maxHitsPerQuery=n.maxHitsPerQuery,i.indexes=n.indexes,i.description=n.description,n.queryParameters&&(i.queryParameters=this._getSearchParams(n.queryParameters,"")),i.referers=n.referers),this._jsonRequest({method:"POST",url:"/1/keys",body:i,hostType:"write",callback:o})},n.prototype.addUserKeyWithValidity=i(function(e,t,n){return this.addUserKey(e,t,n)},a("client.addUserKeyWithValidity()","client.addUserKey()")),n.prototype.updateUserKey=function(t,n,o,r){var i="Usage: client.updateUserKey(key, arrayOfAcls[, params, callback])";if(!e(8)(n))throw new Error(i);2!==arguments.length&&"function"!=typeof o||(r=o,o=null);var a={acl:n};return o&&(a.validity=o.validity,a.maxQueriesPerIPPerHour=o.maxQueriesPerIPPerHour,a.maxHitsPerQuery=o.maxHitsPerQuery,a.indexes=o.indexes,a.description=o.description,o.queryParameters&&(a.queryParameters=this._getSearchParams(o.queryParameters,"")),a.referers=o.referers),this._jsonRequest({method:"PUT",url:"/1/keys/"+t,body:a,hostType:"write",callback:r})},n.prototype.startQueriesBatch=i(function(){this._batch=[]},a("client.startQueriesBatch()","client.search()")),n.prototype.addQueryInBatch=i(function(e,t,n){this._batch.push({indexName:e,query:t,params:n})},a("client.addQueryInBatch()","client.search()")),n.prototype.sendQueriesBatch=i(function(e){return this.search(this._batch,e)},a("client.sendQueriesBatch()","client.search()")),n.prototype.batch=function(t,n){var o="Usage: client.batch(operations[, callback])";if(!e(8)(t))throw new Error(o);return this._jsonRequest({method:"POST",url:"/1/indexes/*/batch",body:{requests:t},hostType:"write",callback:n})},n.prototype.destroy=o,n.prototype.enableRateLimitForward=o,n.prototype.disableRateLimitForward=o,n.prototype.useSecuredAPIKey=o,n.prototype.disableSecuredAPIKey=o,n.prototype.generateSecuredApiKey=o},{15:15,16:16,25:25,26:26,27:27,28:28,7:7,8:8}],15:[function(e,t){(function(n){function o(t,n,o){var i=e(1)("algoliasearch"),a=e(25),s=e(8),l=e(30),u="Usage: algoliasearch(applicationID, apiKey, opts)";if(!0!==o._allowEmptyCredentials&&!t)throw new c.AlgoliaSearchError("Please provide an application ID. "+u);if(!0!==o._allowEmptyCredentials&&!n)throw new c.AlgoliaSearchError("Please provide an API key. "+u);this.applicationID=t,this.apiKey=n,this.hosts={read:[],write:[]};var d=(o=o||{}).protocol||"https:";if(this._timeouts=o.timeouts||{connect:1e3,read:2e3,write:3e4},o.timeout&&(this._timeouts.connect=this._timeouts.read=this._timeouts.write=o.timeout),/:$/.test(d)||(d+=":"),"http:"!==o.protocol&&"https:"!==o.protocol)throw new c.AlgoliaSearchError("protocol must be `http:` or `https:` (was `"+o.protocol+"`)");if(this._checkAppIdData(),o.hosts)s(o.hosts)?(this.hosts.read=a(o.hosts),this.hosts.write=a(o.hosts)):(this.hosts.read=a(o.hosts.read),this.hosts.write=a(o.hosts.write));else{var f=l(this._shuffleResult,function(e){return t+"-"+e+".algolianet.com"});this.hosts.read=[this.applicationID+"-dsn.algolia.net"].concat(f),this.hosts.write=[this.applicationID+".algolia.net"].concat(f)}this.hosts.read=l(this.hosts.read,r(d)),this.hosts.write=l(this.hosts.write,r(d)),this.extraHeaders=[],this.cache=o._cache||{},this._ua=o._ua,this._useCache=!(void 0!==o._useCache&&!o._cache)||o._useCache,this._useFallback=void 0===o.useFallback||o.useFallback,this._setTimeout=o._setTimeout,i("init done, %j",this)}function r(e){return function(t){return e+"//"+t.toLowerCase()}}function i(e){if(void 0===Array.prototype.toJSON)return JSON.stringify(e);var t=Array.prototype.toJSON;delete Array.prototype.toJSON;var n=JSON.stringify(e);return Array.prototype.toJSON=t,n}function a(e){for(var t,n,o=e.length;0!==o;)n=Math.floor(Math.random()*o),t=e[o-=1],e[o]=e[n],e[n]=t;return e}function s(e){var t={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var o;o="x-algolia-api-key"===n||"x-algolia-application-id"===n?"**hidden for security purposes**":e[n],t[n]=o}return t}t.exports=o;var c=e(28),l=e(29),u=e(18),d=e(34),f=500,m=n.env.RESET_APP_DATA_TIMER&&parseInt(n.env.RESET_APP_DATA_TIMER,10)||12e4;o.prototype.initIndex=function(e){return new u(this,e)},o.prototype.setExtraHeader=function(e,t){this.extraHeaders.push({name:e.toLowerCase(),value:t})},o.prototype.addAlgoliaAgent=function(e){-1===this._ua.indexOf(";"+e)&&(this._ua+=";"+e)},o.prototype._jsonRequest=function(t){function n(e,l){function f(e){var t=e&&e.body&&e.body.message&&e.body.status||e.statusCode||e&&e.body&&200;a("received response: statusCode: %s, computed statusCode: %d, headers: %j",e.statusCode,t,e.headers);var n=2===Math.floor(t/100),i=new Date;if(g.push({currentHost:E,headers:s(r),content:o||null,contentLength:void 0!==o?o.length:null,method:l.method,timeouts:l.timeouts,url:l.url,startTime:_,endTime:i,duration:i-_,statusCode:t}),n)return d._useCache&&u&&(u[w]=e.responseText),e.body;if(4!==Math.floor(t/100))return m+=1,v();a("unrecoverable error");var f=new c.AlgoliaSearchError(e.body&&e.body.message,{debugData:g,statusCode:t});return d._promise.reject(f)}function y(e){a("error: %s, stack: %s",e.message,e.stack);var n=new Date;return g.push({currentHost:E,headers:s(r),content:o||null,contentLength:void 0!==o?o.length:null,method:l.method,timeouts:l.timeouts,url:l.url,startTime:_,endTime:n,duration:n-_}),e instanceof c.AlgoliaSearchError||(e=new c.Unknown(e&&e.message,e)),m+=1,e instanceof c.Unknown||e instanceof c.UnparsableJSON||m>=d.hosts[t.hostType].length&&(p||!h)?(e.debugData=g,d._promise.reject(e)):e instanceof c.RequestTimeout?b():v()}function v(){return a("retrying request"),d._incrementHostIndex(t.hostType),n(e,l)}function b(){return a("retrying request with higher timeout"),d._incrementHostIndex(t.hostType),d._incrementTimeoutMultipler(),l.timeouts=d._getTimeoutsForRequest(t.hostType),n(e,l)}d._checkAppIdData();var w,_=new Date;if(d._useCache&&(w=t.url),d._useCache&&o&&(w+="_body_"+l.body),d._useCache&&u&&void 0!==u[w])return a("serving response from cache"),d._promise.resolve(JSON.parse(u[w]));if(m>=d.hosts[t.hostType].length)return!h||p?(a("could not get any response"),d._promise.reject(new c.AlgoliaSearchError("Cannot connect to the AlgoliaSearch API. Send an email to support@algolia.com to report and resolve the issue. Application id was: "+d.applicationID,{debugData:g}))):(a("switching to fallback"),m=0,l.method=t.fallback.method,l.url=t.fallback.url,l.jsonBody=t.fallback.body,l.jsonBody&&(l.body=i(l.jsonBody)),r=d._computeRequestHeaders(),l.timeouts=d._getTimeoutsForRequest(t.hostType),d._setHostIndexByType(0,t.hostType),p=!0,
n(d._request.fallback,l));var E=d._getHostByType(t.hostType),T=E+l.url,k={body:l.body,jsonBody:l.jsonBody,method:l.method,headers:r,timeouts:l.timeouts,debug:a};return a("method: %s, url: %s, headers: %j, timeouts: %d",k.method,T,k.headers,k.timeouts),e===d._request.fallback&&a("using fallback"),e.call(d,T,k).then(f,y)}this._checkAppIdData();var o,r,a=e(1)("algoliasearch:"+t.url),u=t.cache,d=this,m=0,p=!1,h=d._useFallback&&d._request.fallback&&t.fallback;this.apiKey.length>f&&void 0!==t.body&&(void 0!==t.body.params||void 0!==t.body.requests)?(t.body.apiKey=this.apiKey,r=this._computeRequestHeaders(!1)):r=this._computeRequestHeaders(),void 0!==t.body&&(o=i(t.body)),a("request start");var g=[],y=n(d._request,{url:t.url,method:t.method,body:o,jsonBody:t.body,timeouts:d._getTimeoutsForRequest(t.hostType)});return t.callback?void y.then(function(e){l(function(){t.callback(null,e)},d._setTimeout||setTimeout)},function(e){l(function(){t.callback(e)},d._setTimeout||setTimeout)}):y},o.prototype._getSearchParams=function(e,t){if(null==e)return t;for(var n in e)null!==n&&void 0!==e[n]&&e.hasOwnProperty(n)&&(t+=""===t?"":"&",t+=n+"="+encodeURIComponent("[object Array]"===Object.prototype.toString.call(e[n])?i(e[n]):e[n]));return t},o.prototype._computeRequestHeaders=function(t){var n=e(5),o={"x-algolia-agent":this._ua,"x-algolia-application-id":this.applicationID};return!1!==t&&(o["x-algolia-api-key"]=this.apiKey),this.userToken&&(o["x-algolia-usertoken"]=this.userToken),this.securityTags&&(o["x-algolia-tagfilters"]=this.securityTags),this.extraHeaders&&n(this.extraHeaders,function(e){o[e.name]=e.value}),o},o.prototype.search=function(t,n,o){var r=e(8),i=e(30),a="Usage: client.search(arrayOfQueries[, callback])";if(!r(t))throw new Error(a);"function"==typeof n?(o=n,n={}):void 0===n&&(n={});var s=this,c={requests:i(t,function(e){var t="";return void 0!==e.query&&(t+="query="+encodeURIComponent(e.query)),{indexName:e.indexName,params:s._getSearchParams(e.params,t)}})},l=i(c.requests,function(e,t){return t+"="+encodeURIComponent("/1/indexes/"+encodeURIComponent(e.indexName)+"?"+e.params)}).join("&"),u="/1/indexes/*/queries";return void 0!==n.strategy&&(u+="?strategy="+n.strategy),this._jsonRequest({cache:this.cache,method:"POST",url:u,body:c,hostType:"read",fallback:{method:"GET",url:"/1/indexes/*",body:{params:l}},callback:o})},o.prototype.setSecurityTags=function(e){if("[object Array]"===Object.prototype.toString.call(e)){for(var t=[],n=0;n<e.length;++n)if("[object Array]"===Object.prototype.toString.call(e[n])){for(var o=[],r=0;r<e[n].length;++r)o.push(e[n][r]);t.push("("+o.join(",")+")")}else t.push(e[n]);e=t.join(",")}this.securityTags=e},o.prototype.setUserToken=function(e){this.userToken=e},o.prototype.clearCache=function(){this.cache={}},o.prototype.setRequestTimeout=function(e){e&&(this._timeouts.connect=this._timeouts.read=this._timeouts.write=e)},o.prototype.setTimeouts=function(e){this._timeouts=e},o.prototype.getTimeouts=function(){return this._timeouts},o.prototype._getAppIdData=function(){var e=d.get(this.applicationID);return null!==e&&this._cacheAppIdData(e),e},o.prototype._setAppIdData=function(e){return e.lastChange=(new Date).getTime(),this._cacheAppIdData(e),d.set(this.applicationID,e)},o.prototype._checkAppIdData=function(){var e=this._getAppIdData(),t=(new Date).getTime();return null===e||t-e.lastChange>m?this._resetInitialAppIdData(e):e},o.prototype._resetInitialAppIdData=function(e){var t=e||{};return t.hostIndexes={read:0,write:0},t.timeoutMultiplier=1,t.shuffleResult=t.shuffleResult||a([1,2,3]),this._setAppIdData(t)},o.prototype._cacheAppIdData=function(e){this._hostIndexes=e.hostIndexes,this._timeoutMultiplier=e.timeoutMultiplier,this._shuffleResult=e.shuffleResult},o.prototype._partialAppIdDataUpdate=function(t){var n=e(5),o=this._getAppIdData();return n(t,function(e,t){o[t]=e}),this._setAppIdData(o)},o.prototype._getHostByType=function(e){return this.hosts[e][this._getHostIndexByType(e)]},o.prototype._getTimeoutMultiplier=function(){return this._timeoutMultiplier},o.prototype._getHostIndexByType=function(e){return this._hostIndexes[e]},o.prototype._setHostIndexByType=function(t,n){var o=e(25)(this._hostIndexes);return o[n]=t,this._partialAppIdDataUpdate({hostIndexes:o}),t},o.prototype._incrementHostIndex=function(e){return this._setHostIndexByType((this._getHostIndexByType(e)+1)%this.hosts[e].length,e)},o.prototype._incrementTimeoutMultipler=function(){var e=Math.max(this._timeoutMultiplier+1,4);return this._partialAppIdDataUpdate({timeoutMultiplier:e})},o.prototype._getTimeoutsForRequest=function(e){return{connect:this._timeouts.connect*this._timeoutMultiplier,complete:this._timeouts[e]*this._timeoutMultiplier}}}).call(this,e(12))},{1:1,12:12,18:18,25:25,28:28,29:29,30:30,34:34,5:5,8:8}],16:[function(e,t){function n(){r.apply(this,arguments)}var o=e(7),r=e(18),i=e(26),a=e(27),s=e(29),c=e(28);t.exports=n,o(n,r),n.prototype.addObject=function(e,t,n){var o=this;return 1!==arguments.length&&"function"!=typeof t||(n=t,t=void 0),this.as._jsonRequest({method:void 0!==t?"PUT":"POST",url:"/1/indexes/"+encodeURIComponent(o.indexName)+(void 0!==t?"/"+encodeURIComponent(t):""),body:e,hostType:"write",callback:n})},n.prototype.addObjects=function(t,n){var o="Usage: index.addObjects(arrayOfObjects[, callback])";if(!e(8)(t))throw new Error(o);for(var r=this,i={requests:[]},a=0;a<t.length;++a){var s={action:"addObject",body:t[a]};i.requests.push(s)}return this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(r.indexName)+"/batch",body:i,hostType:"write",callback:n})},n.prototype.partialUpdateObject=function(e,t,n){1!==arguments.length&&"function"!=typeof t||(n=t,t=void 0);var o="/1/indexes/"+encodeURIComponent(this.indexName)+"/"+encodeURIComponent(e.objectID)+"/partial";return!1===t&&(o+="?createIfNotExists=false"),this.as._jsonRequest({method:"POST",url:o,body:e,hostType:"write",callback:n})},n.prototype.partialUpdateObjects=function(t,n){var o="Usage: index.partialUpdateObjects(arrayOfObjects[, callback])";if(!e(8)(t))throw new Error(o);for(var r=this,i={requests:[]},a=0;a<t.length;++a){var s={action:"partialUpdateObject",objectID:t[a].objectID,body:t[a]};i.requests.push(s)}return this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(r.indexName)+"/batch",body:i,hostType:"write",callback:n})},n.prototype.saveObject=function(e,t){var n=this;return this.as._jsonRequest({method:"PUT",url:"/1/indexes/"+encodeURIComponent(n.indexName)+"/"+encodeURIComponent(e.objectID),body:e,hostType:"write",callback:t})},n.prototype.saveObjects=function(t,n){var o="Usage: index.saveObjects(arrayOfObjects[, callback])";if(!e(8)(t))throw new Error(o);for(var r=this,i={requests:[]},a=0;a<t.length;++a){var s={action:"updateObject",objectID:t[a].objectID,body:t[a]};i.requests.push(s)}return this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(r.indexName)+"/batch",body:i,hostType:"write",callback:n})},n.prototype.deleteObject=function(e,t){if("function"==typeof e||"string"!=typeof e&&"number"!=typeof e){var n=new c.AlgoliaSearchError("Cannot delete an object without an objectID");return"function"==typeof(t=e)?t(n):this.as._promise.reject(n)}var o=this;return this.as._jsonRequest({method:"DELETE",url:"/1/indexes/"+encodeURIComponent(o.indexName)+"/"+encodeURIComponent(e),hostType:"write",callback:t})},n.prototype.deleteObjects=function(t,n){var o=e(8),r=e(30),i="Usage: index.deleteObjects(arrayOfObjectIDs[, callback])";if(!o(t))throw new Error(i);var a=this,s={requests:r(t,function(e){return{action:"deleteObject",objectID:e,body:{objectID:e}}})};return this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(a.indexName)+"/batch",body:s,hostType:"write",callback:n})},n.prototype.deleteByQuery=function(t,n,o){function r(e){if(0===e.nbHits)return e;var t=d(e.hits,function(e){return e.objectID});return f.deleteObjects(t).then(i).then(a)}function i(e){return f.waitTask(e.taskID)}function a(){return f.deleteByQuery(t,n)}function c(){s(function(){o(null)},m._setTimeout||setTimeout)}function l(e){s(function(){o(e)},m._setTimeout||setTimeout)}var u=e(25),d=e(30),f=this,m=f.as;1===arguments.length||"function"==typeof n?(o=n,n={}):n=u(n),n.attributesToRetrieve="objectID",n.hitsPerPage=1e3,n.distinct=!1,this.clearCache();var p=this.search(t,n).then(r);return o?void p.then(c,l):p},n.prototype.browseAll=function(t,n){function o(e){var t;a._stopped||(t=void 0!==e?"cursor="+encodeURIComponent(e):l,s._jsonRequest({method:"GET",url:"/1/indexes/"+encodeURIComponent(c.indexName)+"/browse?"+t,hostType:"read",callback:r}))}function r(e,t){if(!a._stopped)return e?void a._error(e):(a._result(t),void 0===t.cursor?void a._end():void o(t.cursor))}"object"==typeof t&&(n=t,t=void 0);var i=e(31),a=new(e(17)),s=this.as,c=this,l=s._getSearchParams(i({},n||{},{query:t}),"");return o(),a},n.prototype.ttAdapter=function(e){var t=this;return function(n,o,r){var i;i="function"==typeof r?r:o,t.search(n,e,function(e,t){return e?void i(e):void i(t.hits)})}},n.prototype.waitTask=function(e,t){function n(){return u._jsonRequest({method:"GET",hostType:"read",url:"/1/indexes/"+encodeURIComponent(l.indexName)+"/task/"+e}).then(function(e){var t=i*++c*c;return t>a&&(t=a),"published"!==e.status?u._promise.delay(t).then(n):e})}function o(e){s(function(){t(null,e)},u._setTimeout||setTimeout)}function r(e){s(function(){t(e)},u._setTimeout||setTimeout)}var i=100,a=5e3,c=0,l=this,u=l.as,d=n();return t?void d.then(o,r):d},n.prototype.clearIndex=function(e){var t=this;return this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(t.indexName)+"/clear",hostType:"write",callback:e})},n.prototype.getSettings=function(e){var t=this;return this.as._jsonRequest({method:"GET",url:"/1/indexes/"+encodeURIComponent(t.indexName)+"/settings?getVersion=2",hostType:"read",callback:e})},n.prototype.searchSynonyms=function(e,t){return"function"==typeof e?(t=e,e={}):void 0===e&&(e={}),this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/synonyms/search",body:e,hostType:"read",callback:t})},n.prototype.saveSynonym=function(e,t,n){return"function"==typeof t?(n=t,t={}):void 0===t&&(t={}),this.as._jsonRequest({method:"PUT",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/synonyms/"+encodeURIComponent(e.objectID)+"?forwardToSlaves="+(t.forwardToSlaves?"true":"false"),body:e,hostType:"write",callback:n})},n.prototype.getSynonym=function(e,t){return this.as._jsonRequest({method:"GET",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/synonyms/"+encodeURIComponent(e),hostType:"read",callback:t})},n.prototype.deleteSynonym=function(e,t,n){return"function"==typeof t?(n=t,t={}):void 0===t&&(t={}),this.as._jsonRequest({method:"DELETE",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/synonyms/"+encodeURIComponent(e)+"?forwardToSlaves="+(t.forwardToSlaves?"true":"false"),hostType:"write",callback:n})},n.prototype.clearSynonyms=function(e,t){return"function"==typeof e?(t=e,e={}):void 0===e&&(e={}),this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/synonyms/clear?forwardToSlaves="+(e.forwardToSlaves?"true":"false"),hostType:"write",callback:t})},n.prototype.batchSynonyms=function(e,t,n){return"function"==typeof t?(n=t,t={}):void 0===t&&(t={}),this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/synonyms/batch?forwardToSlaves="+(t.forwardToSlaves?"true":"false")+"&replaceExistingSynonyms="+(t.replaceExistingSynonyms?"true":"false"),hostType:"write",body:e,callback:n})},n.prototype.setSettings=function(e,t,n){1!==arguments.length&&"function"!=typeof t||(n=t,t={});var o=t.forwardToSlaves||!1,r=this;return this.as._jsonRequest({method:"PUT",url:"/1/indexes/"+encodeURIComponent(r.indexName)+"/settings?forwardToSlaves="+(o?"true":"false"),hostType:"write",body:e,callback:n})},n.prototype.listUserKeys=function(e){var t=this;return this.as._jsonRequest({method:"GET",url:"/1/indexes/"+encodeURIComponent(t.indexName)+"/keys",hostType:"read",callback:e})},n.prototype.getUserKeyACL=function(e,t){var n=this;return this.as._jsonRequest({method:"GET",url:"/1/indexes/"+encodeURIComponent(n.indexName)+"/keys/"+e,hostType:"read",callback:t})},n.prototype.deleteUserKey=function(e,t){var n=this;return this.as._jsonRequest({method:"DELETE",url:"/1/indexes/"+encodeURIComponent(n.indexName)+"/keys/"+e,hostType:"write",callback:t})},n.prototype.addUserKey=function(t,n,o){var r="Usage: index.addUserKey(arrayOfAcls[, params, callback])";if(!e(8)(t))throw new Error(r);1!==arguments.length&&"function"!=typeof n||(o=n,n=null);var i={acl:t};return n&&(i.validity=n.validity,i.maxQueriesPerIPPerHour=n.maxQueriesPerIPPerHour,i.maxHitsPerQuery=n.maxHitsPerQuery,i.description=n.description,n.queryParameters&&(i.queryParameters=this.as._getSearchParams(n.queryParameters,"")),i.referers=n.referers),this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/keys",body:i,hostType:"write",callback:o})},n.prototype.addUserKeyWithValidity=i(function(e,t,n){return this.addUserKey(e,t,n)},a("index.addUserKeyWithValidity()","index.addUserKey()")),n.prototype.updateUserKey=function(t,n,o,r){var i="Usage: index.updateUserKey(key, arrayOfAcls[, params, callback])";if(!e(8)(n))throw new Error(i);2!==arguments.length&&"function"!=typeof o||(r=o,o=null);var a={acl:n};return o&&(a.validity=o.validity,a.maxQueriesPerIPPerHour=o.maxQueriesPerIPPerHour,a.maxHitsPerQuery=o.maxHitsPerQuery,a.description=o.description,o.queryParameters&&(a.queryParameters=this.as._getSearchParams(o.queryParameters,"")),a.referers=o.referers),this.as._jsonRequest({method:"PUT",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/keys/"+t,body:a,hostType:"write",callback:r})}},{17:17,18:18,25:25,26:26,27:27,28:28,29:29,30:30,31:31,7:7,8:8}],17:[function(e,t){"use strict";function n(){}t.exports=n,e(7)(n,e(4).EventEmitter),n.prototype.stop=function(){this._stopped=!0,this._clean()},n.prototype._end=function(){this.emit("end"),this._clean()},n.prototype._error=function(e){this.emit("error",e),this._clean()},n.prototype._result=function(e){this.emit("result",e)},n.prototype._clean=function(){this.removeAllListeners("stop"),this.removeAllListeners("end"),this.removeAllListeners("error"),this.removeAllListeners("result")}},{4:4,7:7}],18:[function(e,t){function n(e,t){this.indexName=t,this.as=e,this.typeAheadArgs=null,this.typeAheadValueOption=null,this.cache={}}var o=e(24),r=e(26),i=e(27);t.exports=n,n.prototype.clearCache=function(){this.cache={}},n.prototype.search=o("query"),n.prototype.similarSearch=o("similarQuery"),n.prototype.browse=function(t,n,o){var r,i,a=e(31),s=this;0===arguments.length||1===arguments.length&&"function"==typeof arguments[0]?(r=0,o=arguments[0],t=void 0):"number"==typeof arguments[0]?(r=arguments[0],"number"==typeof arguments[1]?i=arguments[1]:"function"==typeof arguments[1]&&(o=arguments[1],i=void 0),t=void 0,n=void 0):"object"==typeof arguments[0]?("function"==typeof arguments[1]&&(o=arguments[1]),n=arguments[0],t=void 0):"string"==typeof arguments[0]&&"function"==typeof arguments[1]&&(o=arguments[1],n=void 0),n=a({},n||{},{page:r,hitsPerPage:i,query:t});var c=this.as._getSearchParams(n,"");return this.as._jsonRequest({method:"GET",url:"/1/indexes/"+encodeURIComponent(s.indexName)+"/browse?"+c,hostType:"read",callback:o})},n.prototype.browseFrom=function(e,t){return this.as._jsonRequest({method:"GET",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/browse?cursor="+encodeURIComponent(e),hostType:"read",callback:t})},n.prototype.searchForFacetValues=function(t,n){var o=e(25),r=e(32),i="Usage: index.searchForFacetValues({facetName, facetQuery, ...params}[, callback])";if(void 0===t.facetName||void 0===t.facetQuery)throw new Error(i);var a=t.facetName,s=r(o(t),function(e){return"facetName"===e}),c=this.as._getSearchParams(s,"");return this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/facets/"+encodeURIComponent(a)+"/query",hostType:"read",body:{params:c},callback:n})},n.prototype.searchFacet=r(function(e,t){return this.searchForFacetValues(e,t)},i("index.searchFacet(params[, callback])","index.searchForFacetValues(params[, callback])")),n.prototype._search=function(e,t,n){return this.as._jsonRequest({cache:this.cache,method:"POST",url:t||"/1/indexes/"+encodeURIComponent(this.indexName)+"/query",body:{params:e},hostType:"read",fallback:{method:"GET",url:"/1/indexes/"+encodeURIComponent(this.indexName),body:{params:e}},callback:n})},n.prototype.getObject=function(e,t,n){var o=this;1!==arguments.length&&"function"!=typeof t||(n=t,t=void 0);var r="";if(void 0!==t){r="?attributes=";for(var i=0;i<t.length;++i)0!==i&&(r+=","),r+=t[i]}return this.as._jsonRequest({method:"GET",url:"/1/indexes/"+encodeURIComponent(o.indexName)+"/"+encodeURIComponent(e)+r,hostType:"read",callback:n})},n.prototype.getObjects=function(t,n,o){var r=e(8),i=e(30),a="Usage: index.getObjects(arrayOfObjectIDs[, callback])";if(!r(t))throw new Error(a);var s=this;1!==arguments.length&&"function"!=typeof n||(o=n,n=void 0);var c={requests:i(t,function(e){var t={indexName:s.indexName,objectID:e};return n&&(t.attributesToRetrieve=n.join(",")),t})};return this.as._jsonRequest({method:"POST",url:"/1/indexes/*/objects",hostType:"read",body:c,callback:o})},n.prototype.as=null,n.prototype.indexName=null,n.prototype.typeAheadArgs=null,n.prototype.typeAheadValueOption=null},{24:24,25:25,26:26,27:27,30:30,31:31,32:32,8:8}],19:[function(e,t){"use strict";var n=e(14),o=e(20);t.exports=o(n)},{14:14,20:20}],20:[function(e,t){(function(n){"use strict";var o=e(6),r=o.Promise||e(3).Promise;t.exports=function(t,i){function a(t,n,o){var r=e(25),i=e(21);return void 0===(o=r(o||{})).protocol&&(o.protocol=i()),o._ua=o._ua||a.ua,new s(t,n,o)}function s(){t.apply(this,arguments)}var c=e(7),l=e(28),u=e(22),d=e(23),f=e(33);i=i||"","debug"===n.env.NODE_ENV&&e(1).enable("algoliasearch*"),a.version=e(35),a.ua="Algolia for vanilla JavaScript "+i+a.version,a.initPlaces=f(a),o.__algolia={debug:e(1),algoliasearch:a};var m={hasXMLHttpRequest:"XMLHttpRequest"in o,hasXDomainRequest:"XDomainRequest"in o};return m.hasXMLHttpRequest&&(m.cors="withCredentials"in new XMLHttpRequest),c(s,t),s.prototype._request=function(e,t){return new r(function(n,o){function r(){if(!p){var e;clearTimeout(f);try{e={body:JSON.parse(g.responseText),responseText:g.responseText,statusCode:g.status,headers:g.getAllResponseHeaders&&g.getAllResponseHeaders()||{}}}catch(t){e=new l.UnparsableJSON({more:g.responseText})}e instanceof l.UnparsableJSON?o(e):n(e)}}function i(e){p||(clearTimeout(f),o(new l.Network({more:e})))}function a(){p=!0,g.abort(),o(new l.RequestTimeout)}function s(){y=!0,clearTimeout(f),f=setTimeout(a,t.timeouts.complete)}function c(){y||s()}function d(){!y&&g.readyState>1&&s()}if(m.cors||m.hasXDomainRequest){e=u(e,t.headers);var f,p,h=t.body,g=m.cors?new XMLHttpRequest:new XDomainRequest,y=!1;f=setTimeout(a,t.timeouts.connect),g.onprogress=c,"onreadystatechange"in g&&(g.onreadystatechange=d),g.onload=r,g.onerror=i,g instanceof XMLHttpRequest?g.open(t.method,e,!0):g.open(t.method,e),m.cors&&(h&&("POST"===t.method?g.setRequestHeader("content-type","application/x-www-form-urlencoded"):g.setRequestHeader("content-type","application/json")),g.setRequestHeader("accept","application/json")),g.send(h)}else o(new l.Network("CORS not supported"))})},s.prototype._request.fallback=function(e,t){return e=u(e,t.headers),new r(function(n,o){d(e,t,function(e,t){return e?void o(e):void n(t)})})},s.prototype._promise={reject:function(e){return r.reject(e)},resolve:function(e){return r.resolve(e)},delay:function(e){return new r(function(t){setTimeout(t,e)})}},a}}).call(this,e(12))},{1:1,12:12,21:21,22:22,23:23,25:25,28:28,3:3,33:33,35:35,6:6,7:7}],21:[function(e,t){"use strict";function n(){var e=window.document.location.protocol;return"http:"!==e&&"https:"!==e&&(e="http:"),e}t.exports=n},{}],22:[function(e,t){"use strict";function n(e,t){return(e+=/\?/.test(e)?"&":"?")+o(t)}t.exports=n;var o=e(13)},{13:13}],23:[function(e,t){"use strict";function n(e,t,n){function i(){t.debug("JSONP: success"),g||f||(g=!0,d||(t.debug("JSONP: Fail. Script loaded but did not call the callback"),s(),n(new o.JSONPScriptFail)))}function a(){"loaded"!==this.readyState&&"complete"!==this.readyState||i()}function s(){clearTimeout(y),p.onload=null,p.onreadystatechange=null,p.onerror=null,m.removeChild(p)}function c(){try{delete window[h],delete window[h+"_loaded"]}catch(e){window[h]=window[h+"_loaded"]=void 0}}function l(){t.debug("JSONP: Script timeout"),f=!0,s(),n(new o.RequestTimeout)}function u(){t.debug("JSONP: Script error"),g||f||(s(),n(new o.JSONPScriptError))}if("GET"===t.method){t.debug("JSONP: start");var d=!1,f=!1;r+=1;var m=document.getElementsByTagName("head")[0],p=document.createElement("script"),h="algoliaJSONP_"+r,g=!1;window[h]=function(e){return c(),f?void t.debug("JSONP: Late answer, ignoring"):(d=!0,s(),void n(null,{body:e}))},e+="&callback="+h,t.jsonBody&&t.jsonBody.params&&(e+="&"+t.jsonBody.params);var y=setTimeout(l,t.timeouts.complete);p.onreadystatechange=a,p.onload=i,p.onerror=u,p.async=!0,p.defer=!0,p.src=e,m.appendChild(p)}else n(new Error("Method "+t.method+" "+e+" is not supported by JSONP."))}t.exports=n;var o=e(28),r=0},{28:28}],24:[function(e,t){function n(e,t){return function(n,r,i){if("function"==typeof n&&"object"==typeof r||"object"==typeof i)throw new o.AlgoliaSearchError("index.search usage is index.search(query, params, cb)");0===arguments.length||"function"==typeof n?(i=n,n=""):1!==arguments.length&&"function"!=typeof r||(i=r,r=void 0),"object"==typeof n&&null!==n?(r=n,n=void 0):null!=n||(n="");var a="";return void 0!==n&&(a+=e+"="+encodeURIComponent(n)),void 0!==r&&(a=this.as._getSearchParams(r,a)),this._search(a,t,i)}}t.exports=n;var o=e(28)},{28:28}],25:[function(e,t){t.exports=function(e){return JSON.parse(JSON.stringify(e))}},{}],26:[function(e,t){t.exports=function(e,t){function n(){return o||(console.log(t),o=!0),e.apply(this,arguments)}var o=!1;return n}},{}],27:[function(e,t){t.exports=function(e,t){return"algoliasearch: `"+e+"` was replaced by `"+t+"`. Please see https://github.com/algolia/algoliasearch-client-js/wiki/Deprecated#"+e.toLowerCase().replace(".","").replace("()","")}},{}],28:[function(e,t){"use strict";function n(t,n){var o=e(5),r=this;"function"==typeof Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):r.stack=(new Error).stack||"Cannot get a stacktrace, browser is too old",this.name="AlgoliaSearchError",this.message=t||"Unknown error",n&&o(n,function(e,t){r[t]=e})}function o(e,t){function o(){var o=Array.prototype.slice.call(arguments,0);"string"!=typeof o[0]&&o.unshift(t),n.apply(this,o),this.name="AlgoliaSearch"+e+"Error"}return r(o,n),o}var r=e(7);r(n,Error),t.exports={AlgoliaSearchError:n,UnparsableJSON:o("UnparsableJSON","Could not parse the incoming response as JSON, see err.more for details"),RequestTimeout:o("RequestTimeout","Request timedout before getting a response"),Network:o("Network","Network issue, see err.more for details"),JSONPScriptFail:o("JSONPScriptFail","<script> was loaded but did not call our provided callback"),JSONPScriptError:o("JSONPScriptError","<script> unable to load due to an `error` event on it"),Unknown:o("Unknown","Unknown error occured")}},{5:5,7:7}],29:[function(e,t){t.exports=function(e,t){t(e,0)}},{}],30:[function(e,t){var n=e(5);t.exports=function(e,t){var o=[];return n(e,function(n,r){o.push(t(n,r,e))}),o}},{5:5}],31:[function(e,t){var n=e(5);t.exports=function o(e){var t=Array.prototype.slice.call(arguments);return n(t,function(t){for(var n in t)t.hasOwnProperty(n)&&("object"==typeof e[n]&&"object"==typeof t[n]?e[n]=o({},e[n],t[n]):void 0!==t[n]&&(e[n]=t[n]))}),e}},{5:5}],32:[function(e,t){t.exports=function(t,n){var o=e(10),r=e(5),i={};return r(o(t),function(e){!0!==n(e)&&(i[e]=t[e])}),i}},{10:10,5:5}],33:[function(e,t){function n(t){return function(n,r,i){var a=e(25);(i=i&&a(i)||{}).hosts=i.hosts||["places-dsn.algolia.net","places-1.algolianet.com","places-2.algolianet.com","places-3.algolianet.com"],0!==arguments.length&&"object"!=typeof n&&void 0!==n||(n="",r="",i._allowEmptyCredentials=!0);var s=t(n,r,i).initIndex("places");return s.search=o("query","/1/places/query"),s}}t.exports=n;var o=e(24)},{24:24,25:25}],34:[function(e,t){(function(n){function o(e,t){return 1===arguments.length?a.get(e):a.set(e,t)}function r(){try{return"localStorage"in n&&null!==n.localStorage&&!n.localStorage[c]&&(n.localStorage.setItem(c,JSON.stringify({})),!0)}catch(e){return!1}}function i(){try{n.localStorage.removeItem(c)}catch(e){}}var a,s=e(1)("algoliasearch:src/hostIndexState.js"),c="algoliasearch-client-js",l={state:{},set:function(e,t){return this.state[e]=t,this.state[e]},get:function(e){return this.state[e]||null}},u={set:function(e,t){try{var o=JSON.parse(n.localStorage[c]);return o[e]=t,n.localStorage[c]=JSON.stringify(o),o[e]}catch(r){return s("localStorage set failed with",r),i(),(a=l).set(e,t)}},get:function(e){return JSON.parse(n.localStorage[c])[e]||null}};a=r()?u:l,t.exports={get:o,set:o}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{1:1}],35:[function(e,t){"use strict";t.exports="3.20.3"},{}]},{},[19])(19)});var instantClick,InstantClick=instantClick=function(e,t,n){function o(e){var t=e.indexOf("#");return t<0?e:e.substr(0,t)}function r(e){for(;e&&"A"!=e.nodeName;)e=e.parentNode;return e}function i(e){do{if(!e.hasAttribute)break;if(e.hasAttribute("data-instant"))return!1;if(e.hasAttribute("data-no-instant"))return!0}while(e=e.parentNode);return!1}function a(e){var n=t.protocol+"//"+t.host;return!(e.target||e.hasAttribute("download")||0!=e.href.indexOf(n+"/")||e.href.indexOf("#")>-1&&o(e.href)==S||i(e))}function s(e,t,n,o){for(var r=!1,i=0;i<z[e].length;i++)if("receive"==e){var a=z[e][i](t,n,o);a&&("body"in a&&(n=a.body),"title"in a&&(o=a.title),r=a)}else z[e][i](t,n,o);return r}function c(t,n,r,i,a){if(e.getElementById("navigation-butt")&&e.getElementById("navigation-butt").classList.remove("showing"),e.getElementsByTagName("BODY")[0].replaceChild(n,e.getElementById("page-content")),e.getElementById("navigation-progress").classList.remove("showing"),r){history.pushState(null,null,r.replace("?samepage=true","").replace("&samepage=true",""));var c=r.indexOf("#"),l=c>-1&&e.getElementById(r.substr(c+1)),u=0,d=r.indexOf("samepage=true")>-1;if(l)for(;l.offsetParent;)u+=l.offsetTop,l=l.offsetParent;d||scrollTo(0,u),S=o(r)}else scrollTo(0,i);C&&e.title==t?e.title=t+String.fromCharCode(160):e.title=t,b(),a?s("restore"):s("change",!1)}function l(){H=!1,F=!1}function u(e){return e.replace(/<noscript[\s\S]+?<\/noscript>/gi,"")}function d(e){if(!(A>+new Date-500)){var t=r(e.target);t&&a(t)&&w(t.href)}}function f(e){if(!(A>+new Date-500)){var t=r(e.target);t&&a(t)&&(t.addEventListener("mouseout",h),j?(L=t.href,B=setTimeout(w,j)):w(t.href),getImageForLink(t))}}function m(e){A=+new Date;var t=r(e.target);t&&a(t)&&(N?t.removeEventListener("mousedown",d):t.removeEventListener("mouseover",f),w(t.href),getImageForLink(t))}function p(e){try{var t=r(e.target);if(!t||!a(t))return;if(e.which>1||e.metaKey||e.ctrlKey)return;if(T(t.href),e.preventDefault(),window.ga&&ga.create&&t.hasAttribute("data-featured-article")){var n=t.dataset.featuredArticle;ga("send","event","click","featured-feed-click",n,null)}}catch(o){console.log(o)}}function h(){if(B)return clearTimeout(B),void(B=!1);H&&!F&&(O.abort(),l())}function g(){y(O,M)}function y(t,n){if(!(t.readyState<4)&&0!=t.status){if(q.ready=+new Date-q.start,200===t.status&&t.getResponseHeader("Content-Type").match(/\/(x|ht|xht)ml/)){var r=e.implementation.createHTMLDocument("");r.documentElement.innerHTML=u(t.responseText);var i=r.title,a=r.getElementById("page-content"),c=s("receive",n,a,i);c&&("body"in c&&(a=c.body),"title"in c&&(i=c.title)),D[n]={body:a,title:i};o(n);for(var l,d,f=r.head.children,m=0,p=0;p<f.length;p++)if((l=f[p]).hasAttribute("data-instant-track")){d=l.getAttribute("href")||l.getAttribute("src")||l.innerHTML;for(var h=0;h<U.length;h++)U[h]==d&&m++}m!=U.length&&(P=!0)}else P=!0;F&&M===n&&(F=!1,T(M))}}function v(){var n=o(t.href);n!=S&&(n in R?(R[S]={body:e.getElementById("page-content"),title:e.title,scrollY:pageYOffset},S=n,c(R[n].title,R[n].body,!1,R[n].scrollY,!0)):t.href=t.href)}function b(t){if(e.body&&(e.body.addEventListener("touchstart",m,!0),N?e.body.addEventListener("mousedown",d,!0):e.body.addEventListener("mouseover",f,!0),e.body.addEventListener("click",p,!0)),!t)for(var n,o,r,i,a=e.body.getElementsByTagName("script"),s=0,c=a.length;s<c;s++)(n=a[s]).hasAttribute("data-no-instant")||(o=e.createElement("script"),n.src&&(o.src=n.src),n.innerHTML&&(o.innerHTML=n.innerHTML),r=n.parentNode,i=n.nextSibling,r.removeChild(n),r.insertBefore(o,i))}function w(e,t){if(!(!N&&"display"in q&&+new Date-(q.start+q.display)<100)&&(B&&(clearTimeout(B),B=!1),e||(e=L),!H||e!=M&&!F)){if(H=!0,F=!1,P=!1,q={start:+new Date},-1==e.indexOf("?"))var n=e+"?i=i";else n=e+"&i=i";_(),s("fetch"),D[e]||("force"===t?E(e,function(){y(this,e)}):(M=e,O.open("GET",n),O.send()))}}function _(e){(Object.keys(D).length>13||"force"==e)&&(D={})}function E(e,t){var n=new XMLHttpRequest;if(-1==e.indexOf("?"))var o=e+"?i=i";else o=e+"&i=i";n.open("GET",o,!0),n.onreadystatechange=function(){4==n.readyState&&"function"==typeof t&&t.apply(n)},n.send()}function T(n){if(M=n,D[n])var o=D[n].body,r=D[n].title;else e.getElementById("navigation-progress").classList.add("showing");if("display"in q||(q.display=+new Date-q.start),B||!H)return B&&M&&M!=n?void(t.href=n):(w(n),s("wait"),void(F=!0));if(F)t.href=n;else if(P)t.href=M;else{if(!o)return s("wait"),void(F=!0);R[S]={body:e.getElementById("page-content"),title:e.title,scrollY:pageYOffset},l(),c(r,o,M)}}function k(n){if(!S)if(X){"mousedown"==n?N=!0:"number"==typeof n&&(j=n),S=o(t.href),R[S]={body:e.getElementById("page-content"),title:e.title,scrollY:pageYOffset};for(var r,i,a=e.head.children,c=0;c<a.length;c++)(r=a[c]).hasAttribute("data-instant-track")&&(i=r.getAttribute("href")||r.getAttribute("src")||r.innerHTML,U.push(i));(O=new XMLHttpRequest).addEventListener("readystatechange",g),b(!0),s("change",!0),addEventListener("popstate",v),I()}else s("change",!0)}function x(e,t){z[e].push(t)}function I(){if("ontouchstart"in e.documentElement){var t=e.createElement("script");t.src="https://practicaldev-herokuapp-com.freetls.fastly.net/assets/lib/pulltorefresh-6abdfd295b2fd35d30aabd15717e5d63c742f719405fb1cce3f56c79575820e1.js",e.head.appendChild(t);var n=setInterval(function(){if("undefined"!=typeof PullToRefresh){PullToRefresh.init({mainElement:"body",passive:!0,onRefresh:function(){window.location.reload()}});clearInterval(n)}},1)}}var S,L,B,A,O,N,j,C=n.indexOf(" CriOS/")>-1,R={},M=!1,P=!1,D={},q={},H=!1,F=!1,U=[],z={fetch:[],receive:[],wait:[],change:[],restore:[]},X="pushState"in history&&(!n.match("Android")||n.match("Chrome/")||n.match("Firefox/"))&&"file:"!=t.protocol;return{supported:X,init:k,isPreloadable:a,preload:w,removeExpiredKeys:_,display:T,on:x}}(document,location,navigator.userAgent);if("undefined"!=typeof airbrakeJs)initializeAirbrake();else var waitingOnAirbrake=setInterval(function(){"undefined"!=typeof airbrakeJs&&(initializeAirbrake(),clearInterval(waitingOnAirbrake))},1);